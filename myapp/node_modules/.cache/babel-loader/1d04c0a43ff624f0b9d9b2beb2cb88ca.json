{"remainingRequest":"D:\\HuaweiMoveData\\Users\\86131\\Desktop\\物流动态视界\\myapp\\node_modules\\babel-loader\\lib\\index.js!D:\\HuaweiMoveData\\Users\\86131\\Desktop\\物流动态视界\\myapp\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!D:\\HuaweiMoveData\\Users\\86131\\Desktop\\物流动态视界\\myapp\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\HuaweiMoveData\\Users\\86131\\Desktop\\物流动态视界\\myapp\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\HuaweiMoveData\\Users\\86131\\Desktop\\物流动态视界\\myapp\\src\\components\\RealTimeMonitor.vue?vue&type=template&id=4c767bcf&scoped=true","dependencies":[{"path":"D:\\HuaweiMoveData\\Users\\86131\\Desktop\\物流动态视界\\myapp\\src\\components\\RealTimeMonitor.vue","mtime":1737217781786},{"path":"D:\\HuaweiMoveData\\Users\\86131\\Desktop\\物流动态视界\\myapp\\babel.config.js","mtime":1732176480598},{"path":"D:\\HuaweiMoveData\\Users\\86131\\Desktop\\物流动态视界\\myapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1732372474236},{"path":"D:\\HuaweiMoveData\\Users\\86131\\Desktop\\物流动态视界\\myapp\\node_modules\\babel-loader\\lib\\index.js","mtime":1732372475869},{"path":"D:\\HuaweiMoveData\\Users\\86131\\Desktop\\物流动态视界\\myapp\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1732372477042},{"path":"D:\\HuaweiMoveData\\Users\\86131\\Desktop\\物流动态视界\\myapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1732372474236},{"path":"D:\\HuaweiMoveData\\Users\\86131\\Desktop\\物流动态视界\\myapp\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1732372476246}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlVGV4dFZOb2RlIGFzIF9jcmVhdGVUZXh0Vk5vZGUsIHJlc29sdmVDb21wb25lbnQgYXMgX3Jlc29sdmVDb21wb25lbnQsIHdpdGhDdHggYXMgX3dpdGhDdHgsIGNyZWF0ZVZOb2RlIGFzIF9jcmVhdGVWTm9kZSwgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIHRvRGlzcGxheVN0cmluZyBhcyBfdG9EaXNwbGF5U3RyaW5nLCBub3JtYWxpemVDbGFzcyBhcyBfbm9ybWFsaXplQ2xhc3MsIHJlbmRlckxpc3QgYXMgX3JlbmRlckxpc3QsIEZyYWdtZW50IGFzIF9GcmFnbWVudCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrLCBub3JtYWxpemVTdHlsZSBhcyBfbm9ybWFsaXplU3R5bGUsIHB1c2hTY29wZUlkIGFzIF9wdXNoU2NvcGVJZCwgcG9wU2NvcGVJZCBhcyBfcG9wU2NvcGVJZCB9IGZyb20gInZ1ZSI7Cgp2YXIgX3dpdGhTY29wZUlkID0gZnVuY3Rpb24gX3dpdGhTY29wZUlkKG4pIHsKICByZXR1cm4gX3B1c2hTY29wZUlkKCJkYXRhLXYtNGM3NjdiY2YiKSwgbiA9IG4oKSwgX3BvcFNjb3BlSWQoKSwgbjsKfTsKCnZhciBfaG9pc3RlZF8xID0gewogICJjbGFzcyI6ICJuYXYtaGVhZGVyIgp9OwoKdmFyIF9ob2lzdGVkXzIgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVRleHRWTm9kZSgi5LuT5YKo5a6e5Ya1Iik7Cgp2YXIgX2hvaXN0ZWRfMyA9IC8qI19fUFVSRV9fKi9fd2l0aFNjb3BlSWQoZnVuY3Rpb24gKCkgewogIHJldHVybiAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIHsKICAgICJjbGFzcyI6ICJuYXYtdGV4dCByZWFsIgogIH0sICLlrp7ml7bnm5HmtYsiLCAtMQogIC8qIEhPSVNURUQgKi8KICApOwp9KTsKCnZhciBfaG9pc3RlZF80ID0gLyojX19QVVJFX18qL19jcmVhdGVUZXh0Vk5vZGUoIuaVsOaNruWIhuaekCIpOwoKdmFyIF9ob2lzdGVkXzUgPSB7CiAgImNsYXNzIjogImNvbnRlbnQiCn07CnZhciBfaG9pc3RlZF82ID0gewogICJjbGFzcyI6ICJzdGF0dXMtY2FyZHMiCn07CnZhciBfaG9pc3RlZF83ID0gewogICJjbGFzcyI6ICJzdGF0dXMtY2FyZCIKfTsKCnZhciBfaG9pc3RlZF84ID0gLyojX19QVVJFX18qL193aXRoU2NvcGVJZChmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJoMyIsIG51bGwsICJBR1bmgLvmlbAiLCAtMQogIC8qIEhPSVNURUQgKi8KICApOwp9KTsKCnZhciBfaG9pc3RlZF85ID0gewogICJjbGFzcyI6ICJ2YWx1ZSIKfTsKdmFyIF9ob2lzdGVkXzEwID0gewogICJjbGFzcyI6ICJzdGF0dXMtY2FyZCIKfTsKCnZhciBfaG9pc3RlZF8xMSA9IC8qI19fUFVSRV9fKi9fd2l0aFNjb3BlSWQoZnVuY3Rpb24gKCkgewogIHJldHVybiAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaDMiLCBudWxsLCAi6L+Q6KGM5LitIiwgLTEKICAvKiBIT0lTVEVEICovCiAgKTsKfSk7Cgp2YXIgX2hvaXN0ZWRfMTIgPSB7CiAgImNsYXNzIjogInZhbHVlIgp9Owp2YXIgX2hvaXN0ZWRfMTMgPSB7CiAgImNsYXNzIjogInN0YXR1cy1jYXJkIgp9OwoKdmFyIF9ob2lzdGVkXzE0ID0gLyojX19QVVJFX18qL193aXRoU2NvcGVJZChmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJoMyIsIG51bGwsICLlhYXnlLXkuK0iLCAtMQogIC8qIEhPSVNURUQgKi8KICApOwp9KTsKCnZhciBfaG9pc3RlZF8xNSA9IHsKICAiY2xhc3MiOiAidmFsdWUiCn07CnZhciBfaG9pc3RlZF8xNiA9IHsKICAiY2xhc3MiOiAic3RhdHVzLWNhcmQiCn07Cgp2YXIgX2hvaXN0ZWRfMTcgPSAvKiNfX1BVUkVfXyovX3dpdGhTY29wZUlkKGZ1bmN0aW9uICgpIHsKICByZXR1cm4gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoImgzIiwgbnVsbCwgIue7tOS/ruS4rSIsIC0xCiAgLyogSE9JU1RFRCAqLwogICk7Cn0pOwoKdmFyIF9ob2lzdGVkXzE4ID0gewogICJjbGFzcyI6ICJ2YWx1ZSIKfTsKdmFyIF9ob2lzdGVkXzE5ID0gewogICJjbGFzcyI6ICJjaGFydHMtY29udGFpbmVyIgp9Owp2YXIgX2hvaXN0ZWRfMjAgPSB7CiAgImNsYXNzIjogImNoYXJ0LWJveCIKfTsKCnZhciBfaG9pc3RlZF8yMSA9IC8qI19fUFVSRV9fKi9fd2l0aFNjb3BlSWQoZnVuY3Rpb24gKCkgewogIHJldHVybiAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaDMiLCBudWxsLCAiQUdW5a6e5pe255uR5o6nIiwgLTEKICAvKiBIT0lTVEVEICovCiAgKTsKfSk7Cgp2YXIgX2hvaXN0ZWRfMjIgPSB7CiAgImNsYXNzIjogIm1vbml0b3ItY29udGVudCIKfTsKdmFyIF9ob2lzdGVkXzIzID0gewogICJjbGFzcyI6ICJ2aWRlby1jb250YWluZXIiCn07CnZhciBfaG9pc3RlZF8yNCA9IHsKICByZWY6ICJyZW1vdGVWaWRlbyIsCiAgYWx0OiAiUmVtb3RlIENhbWVyYSBGZWVkIgp9Owp2YXIgX2hvaXN0ZWRfMjUgPSB7CiAgImNsYXNzIjogImNvbnRyb2wtcGFuZWwiCn07CnZhciBfaG9pc3RlZF8yNiA9IFsiZGlzYWJsZWQiXTsKdmFyIF9ob2lzdGVkXzI3ID0gWyJkaXNhYmxlZCJdOwp2YXIgX2hvaXN0ZWRfMjggPSB7CiAgImNsYXNzIjogInFyLWNvZGUiCn07Cgp2YXIgX2hvaXN0ZWRfMjkgPSAvKiNfX1BVUkVfXyovX3dpdGhTY29wZUlkKGZ1bmN0aW9uICgpIHsKICByZXR1cm4gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBudWxsLCAi5omr56CB6L+e5o6l5pGE5YOP5aS0IiwgLTEKICAvKiBIT0lTVEVEICovCiAgKTsKfSk7Cgp2YXIgX2hvaXN0ZWRfMzAgPSB7CiAgcmVmOiAicXJjb2RlUmVmIgp9Owp2YXIgX2hvaXN0ZWRfMzEgPSB7CiAgImNsYXNzIjogImNoYXJ0LWJveCIKfTsKCnZhciBfaG9pc3RlZF8zMiA9IC8qI19fUFVSRV9fKi9fd2l0aFNjb3BlSWQoZnVuY3Rpb24gKCkgewogIHJldHVybiAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaDMiLCBudWxsLCAiQUdW5Lu75Yqh5a6M5oiQ6LaL5Yq/IiwgLTEKICAvKiBIT0lTVEVEICovCiAgKTsKfSk7Cgp2YXIgX2hvaXN0ZWRfMzMgPSB7CiAgImNsYXNzIjogImFndi10YWJsZSIKfTsKCnZhciBfaG9pc3RlZF8zNCA9IC8qI19fUFVSRV9fKi9fd2l0aFNjb3BlSWQoZnVuY3Rpb24gKCkgewogIHJldHVybiAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaDMiLCBudWxsLCAiQUdW5a6e5pe254q25oCBIiwgLTEKICAvKiBIT0lTVEVEICovCiAgKTsKfSk7Cgp2YXIgX2hvaXN0ZWRfMzUgPSAvKiNfX1BVUkVfXyovX3dpdGhTY29wZUlkKGZ1bmN0aW9uICgpIHsKICByZXR1cm4gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoInRoZWFkIiwgbnVsbCwgWy8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJ0ciIsIG51bGwsIFsvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgidGgiLCBudWxsLCAiQUdW57yW5Y+3IiksIC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJ0aCIsIG51bGwsICLlvZPliY3kvY3nva4iKSwgLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoInRoIiwgbnVsbCwgIuS7u+WKoeeKtuaAgSIpLCAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgidGgiLCBudWxsLCAi55S16YePIiksIC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJ0aCIsIG51bGwsICLov5DooYznirbmgIEiKV0pXSwgLTEKICAvKiBIT0lTVEVEICovCiAgKTsKfSk7Cgp2YXIgX2hvaXN0ZWRfMzYgPSB7CiAgImNsYXNzIjogImJhdHRlcnktc3RhdHVzIgp9OwpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHZhciBfY29tcG9uZW50X3JvdXRlcl9saW5rID0gX3Jlc29sdmVDb21wb25lbnQoInJvdXRlci1saW5rIik7CgogIHZhciBfY29tcG9uZW50X3ZfY2hhcnQgPSBfcmVzb2x2ZUNvbXBvbmVudCgidi1jaGFydCIpOwoKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKF9GcmFnbWVudCwgbnVsbCwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImhlYWRlciIsIG51bGwsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xLCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfcm91dGVyX2xpbmssIHsKICAgIHRvOiAiLyIsCiAgICAiY2xhc3MiOiAibmF2LXRleHQiCiAgfSwgewogICAgImRlZmF1bHQiOiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBbX2hvaXN0ZWRfMl07CiAgICB9KSwKICAgIF86IDEKICAgIC8qIFNUQUJMRSAqLwoKICB9KSwgX2hvaXN0ZWRfMywgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfcm91dGVyX2xpbmssIHsKICAgIHRvOiAiL2FuYWx5c2lzIiwKICAgICJjbGFzcyI6ICJuYXYtdGV4dCBhY3RpdmUiCiAgfSwgewogICAgImRlZmF1bHQiOiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBbX2hvaXN0ZWRfNF07CiAgICB9KSwKICAgIF86IDEKICAgIC8qIFNUQUJMRSAqLwoKICB9KV0pXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzUsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF82LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNywgW19ob2lzdGVkXzgsIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzksIF90b0Rpc3BsYXlTdHJpbmcoJHNldHVwLnRvdGFsQWd2KSwgMQogIC8qIFRFWFQgKi8KICApXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzEwLCBbX2hvaXN0ZWRfMTEsIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzEyLCBfdG9EaXNwbGF5U3RyaW5nKCRzZXR1cC5ydW5uaW5nQWd2KSwgMQogIC8qIFRFWFQgKi8KICApXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzEzLCBbX2hvaXN0ZWRfMTQsIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzE1LCBfdG9EaXNwbGF5U3RyaW5nKCRzZXR1cC5jaGFyZ2luZ0FndiksIDEKICAvKiBURVhUICovCiAgKV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xNiwgW19ob2lzdGVkXzE3LCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xOCwgX3RvRGlzcGxheVN0cmluZygkc2V0dXAubWFpbnRlbmFuY2VBZ3YpLCAxCiAgLyogVEVYVCAqLwogICldKV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xOSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzIwLCBbX2hvaXN0ZWRfMjEsIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzIyLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMjMsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJpbWciLCBfaG9pc3RlZF8yNCwgbnVsbCwgNTEyCiAgLyogTkVFRF9QQVRDSCAqLwogICksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICAgICJjbGFzcyI6IF9ub3JtYWxpemVDbGFzcyhbImNvbm5lY3Rpb24tc3RhdHVzIiwgewogICAgICBjb25uZWN0ZWQ6ICRzZXR1cC5pc0Nvbm5lY3RlZAogICAgfV0pCiAgfSwgX3RvRGlzcGxheVN0cmluZygkc2V0dXAuaXNDb25uZWN0ZWQgPyAn5bey6L+e5o6lJyA6ICfnrYnlvoXov57mjqUnKSwgMwogIC8qIFRFWFQsIENMQVNTICovCiAgKV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8yNSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImJ1dHRvbiIsIHsKICAgIG9uQ2xpY2s6IF9jYWNoZVswXSB8fCAoX2NhY2hlWzBdID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gJHNldHVwLmNvbm5lY3RUb1N0cmVhbSAmJiAkc2V0dXAuY29ubmVjdFRvU3RyZWFtLmFwcGx5KCRzZXR1cCwgYXJndW1lbnRzKTsKICAgIH0pLAogICAgZGlzYWJsZWQ6ICRzZXR1cC5pc0Nvbm5lY3RlZAogIH0sICLov57mjqXmkYTlg4/lpLQiLCA4CiAgLyogUFJPUFMgKi8KICAsIF9ob2lzdGVkXzI2KSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiYnV0dG9uIiwgewogICAgb25DbGljazogX2NhY2hlWzFdIHx8IChfY2FjaGVbMV0gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAkc2V0dXAuZGlzY29ubmVjdEZyb21TdHJlYW0gJiYgJHNldHVwLmRpc2Nvbm5lY3RGcm9tU3RyZWFtLmFwcGx5KCRzZXR1cCwgYXJndW1lbnRzKTsKICAgIH0pLAogICAgZGlzYWJsZWQ6ICEkc2V0dXAuaXNDb25uZWN0ZWQKICB9LCAi5pat5byA6L+e5o6lIiwgOAogIC8qIFBST1BTICovCiAgLCBfaG9pc3RlZF8yNyksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzI4LCBbX2hvaXN0ZWRfMjksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImNhbnZhcyIsIF9ob2lzdGVkXzMwLCBudWxsLCA1MTIKICAvKiBORUVEX1BBVENIICovCiAgKV0pXSldKV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8zMSwgW19ob2lzdGVkXzMyLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF92X2NoYXJ0LCB7CiAgICAiY2xhc3MiOiAiY2hhcnQiLAogICAgb3B0aW9uOiAkc2V0dXAubGluZU9wdGlvbnMsCiAgICBhdXRvcmVzaXplOiAiIgogIH0sIG51bGwsIDgKICAvKiBQUk9QUyAqLwogICwgWyJvcHRpb24iXSldKV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8zMywgW19ob2lzdGVkXzM0LCBfY3JlYXRlRWxlbWVudFZOb2RlKCJ0YWJsZSIsIG51bGwsIFtfaG9pc3RlZF8zNSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgidGJvZHkiLCBudWxsLCBbKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBfcmVuZGVyTGlzdCgkc2V0dXAuYWd2TGlzdCwgZnVuY3Rpb24gKGl0ZW0pIHsKICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soInRyIiwgewogICAgICBrZXk6IGl0ZW0uaWQKICAgIH0sIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJ0ZCIsIG51bGwsIF90b0Rpc3BsYXlTdHJpbmcoaXRlbS5pZCksIDEKICAgIC8qIFRFWFQgKi8KICAgICksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInRkIiwgbnVsbCwgX3RvRGlzcGxheVN0cmluZyhpdGVtLmxvY2F0aW9uKSwgMQogICAgLyogVEVYVCAqLwogICAgKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgidGQiLCBudWxsLCBfdG9EaXNwbGF5U3RyaW5nKGl0ZW0udGFzayksIDEKICAgIC8qIFRFWFQgKi8KICAgICksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInRkIiwgbnVsbCwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzM2LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogICAgICAiY2xhc3MiOiAiYmF0dGVyeS1iYXIiLAogICAgICBzdHlsZTogX25vcm1hbGl6ZVN0eWxlKHsKICAgICAgICB3aWR0aDogaXRlbS5iYXR0ZXJ5ICsgJyUnLAogICAgICAgIGJhY2tncm91bmQ6ICRzZXR1cC5nZXRCYXR0ZXJ5Q29sb3IoaXRlbS5iYXR0ZXJ5KQogICAgICB9KQogICAgfSwgbnVsbCwgNAogICAgLyogU1RZTEUgKi8KICAgICksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBudWxsLCBfdG9EaXNwbGF5U3RyaW5nKGl0ZW0uYmF0dGVyeSkgKyAiJSIsIDEKICAgIC8qIFRFWFQgKi8KICAgICldKV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJ0ZCIsIG51bGwsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgewogICAgICAiY2xhc3MiOiBfbm9ybWFsaXplQ2xhc3MoWydzdGF0dXMtaW5kaWNhdG9yJywgaXRlbS5zdGF0dXNdKQogICAgfSwgbnVsbCwgMgogICAgLyogQ0xBU1MgKi8KICAgICksIF9jcmVhdGVUZXh0Vk5vZGUoIiAiICsgX3RvRGlzcGxheVN0cmluZyhpdGVtLnN0YXR1c1RleHQpLCAxCiAgICAvKiBURVhUICovCiAgICApXSldKTsKICB9KSwgMTI4CiAgLyogS0VZRURfRlJBR01FTlQgKi8KICApKV0pXSldKV0pXSwgNjQKICAvKiBTVEFCTEVfRlJBR01FTlQgKi8KICApOwp9"},{"version":3,"sources":["D:\\HuaweiMoveData\\Users\\86131\\Desktop\\物流动态视界\\myapp\\src\\components\\RealTimeMonitor.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <header>\r\n    <div class=\"nav-header\">\r\n      <router-link to=\"/\" class=\"nav-text\">仓储实况</router-link>\r\n      <span class=\"nav-text real\">实时监测</span>\r\n      <router-link to=\"/analysis\" class=\"nav-text active\">数据分析</router-link>\r\n    </div>\r\n  </header>\r\n\r\n  <div class=\"content\">\r\n    <div class=\"status-cards\">\r\n      <div class=\"status-card\">\r\n        <h3>AGV总数</h3>\r\n        <div class=\"value\">{{ totalAgv }}</div>\r\n      </div>\r\n      <div class=\"status-card\">\r\n        <h3>运行中</h3>\r\n        <div class=\"value\">{{ runningAgv }}</div>\r\n      </div>\r\n      <div class=\"status-card\">\r\n        <h3>充电中</h3>\r\n        <div class=\"value\">{{ chargingAgv }}</div>\r\n      </div>\r\n      <div class=\"status-card\">\r\n        <h3>维修中</h3>\r\n        <div class=\"value\">{{ maintenanceAgv }}</div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"charts-container\">\r\n      <div class=\"chart-box\">\r\n        <h3>AGV实时监控</h3>\r\n        <div class=\"monitor-content\">\r\n          <div class=\"video-container\">\r\n            <img ref=\"remoteVideo\" alt=\"Remote Camera Feed\" />\r\n            <div class=\"connection-status\" :class=\"{ connected: isConnected }\">\r\n              {{ isConnected ? '已连接' : '等待连接' }}\r\n            </div>\r\n          </div>\r\n          <div class=\"control-panel\">\r\n            <button @click=\"connectToStream\" :disabled=\"isConnected\">连接摄像头</button>\r\n            <button @click=\"disconnectFromStream\" :disabled=\"!isConnected\">断开连接</button>\r\n            <div class=\"qr-code\">\r\n              <span>扫码连接摄像头</span>\r\n              <canvas ref=\"qrcodeRef\"></canvas>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"chart-box\">\r\n        <h3>AGV任务完成趋势</h3>\r\n        <v-chart class=\"chart\" :option=\"lineOptions\" autoresize />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"agv-table\">\r\n      <h3>AGV实时状态</h3>\r\n      <table>\r\n        <thead>\r\n          <tr>\r\n            <th>AGV编号</th>\r\n            <th>当前位置</th>\r\n            <th>任务状态</th>\r\n            <th>电量</th>\r\n            <th>运行状态</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"item in agvList\" :key=\"item.id\">\r\n            <td>{{ item.id }}</td>\r\n            <td>{{ item.location }}</td>\r\n            <td>{{ item.task }}</td>\r\n            <td>\r\n              <div class=\"battery-status\">\r\n                <div class=\"battery-bar\" :style=\"{ width: item.battery + '%', background: getBatteryColor(item.battery) }\"></div>\r\n                <span>{{ item.battery }}%</span>\r\n              </div>\r\n            </td>\r\n            <td>\r\n              <span :class=\"['status-indicator', item.status]\"></span>\r\n              {{ item.statusText }}\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted, onUnmounted, nextTick } from 'vue';\r\nimport { use } from 'echarts/core';\r\nimport { CanvasRenderer } from 'echarts/renderers';\r\nimport { PieChart, LineChart } from 'echarts/charts';\r\nimport { GridComponent, TooltipComponent, TitleComponent, LegendComponent } from 'echarts/components';\r\nimport VChart from 'vue-echarts';\r\nimport axios from 'axios';\r\nimport QRCode from 'qrcode';\r\nimport io from 'socket.io-client'\r\n\r\nuse([\r\n  CanvasRenderer,\r\n  PieChart,\r\n  LineChart,\r\n  GridComponent,\r\n  TooltipComponent,\r\n  TitleComponent,\r\n  LegendComponent\r\n]);\r\n\r\nexport default {\r\n  name: 'RealTimeMonitor',\r\n  components: { VChart },\r\n  setup() {\r\n    // 状态数据\r\n    const totalAgv = ref(24);\r\n    const runningAgv = ref(18);\r\n    const chargingAgv = ref(4);\r\n    const maintenanceAgv = ref(2);\r\n    const agvList = ref([]);\r\n\r\n    // 图表配置\r\n    const pieOptions = ref({\r\n      title: {\r\n        text: 'AGV',\r\n        left: 'center',\r\n        top: 'center',\r\n        textStyle: {\r\n          color: '#fff',\r\n          fontSize: 16,\r\n          fontWeight: 'bold'\r\n        }\r\n      },\r\n      tooltip: {\r\n        trigger: 'item'\r\n      },\r\n      series: [{\r\n        type: 'pie',\r\n        radius: ['40%', '70%'],\r\n        avoidLabelOverlap: false,\r\n        label: {\r\n          show: true,\r\n          color: '#fff'\r\n        },\r\n        data: [\r\n          { value: 18, name: '运行中', itemStyle: { color: '#52c41a' } },\r\n          { value: 4, name: '充电中', itemStyle: { color: '#faad14' } },\r\n          { value: 2, name: '维修中', itemStyle: { color: '#ff4d4f' } }\r\n        ]\r\n      }]\r\n    });\r\n\r\n    const lineOptions = ref({\r\n      tooltip: {\r\n        trigger: 'axis',\r\n        backgroundColor: 'rgba(0,0,0,0.7)',\r\n        borderColor: 'rgba(255,255,255,0.5)',\r\n        textStyle: {\r\n          color: '#fff',\r\n          fontSize: 14\r\n        }\r\n      },\r\n      xAxis: {\r\n        type: 'category',\r\n        data: ['00:00', '04:00', '08:00', '12:00', '16:00', '20:00'],\r\n        axisLabel: { \r\n          color: '#fff',\r\n          fontSize: 14,\r\n          fontWeight: 'bold'\r\n        },\r\n        axisLine: {\r\n          lineStyle: {\r\n            color: 'rgba(255,255,255,0.5)',\r\n            width: 2\r\n          }\r\n        },\r\n        splitLine: {\r\n          show: true,\r\n          lineStyle: {\r\n            color: 'rgba(255,255,255,0.1)',\r\n            width: 1,\r\n            type: 'solid'\r\n          }\r\n        }\r\n      },\r\n      yAxis: {\r\n        type: 'value',\r\n        axisLabel: { \r\n          color: '#fff',\r\n          fontSize: 14,\r\n          fontWeight: 'bold'\r\n        },\r\n        axisLine: {\r\n          show: true,\r\n          lineStyle: {\r\n            color: 'rgba(255,255,255,0.5)',\r\n            width: 2\r\n          }\r\n        },\r\n        splitLine: {\r\n          show: true,\r\n          lineStyle: {\r\n            color: 'rgba(255,255,255,0.1)',\r\n            width: 1,\r\n            type: 'solid'\r\n          }\r\n        }\r\n      },\r\n      grid: {\r\n        top: '8%',\r\n        left: '3%',\r\n        right: '4%',\r\n        bottom: '8%',\r\n        containLabel: true\r\n      },\r\n      series: [{\r\n        data: [150, 230, 224, 218, 135, 147],\r\n        type: 'line',\r\n        smooth: true,\r\n        symbol: 'circle',\r\n        symbolSize: 12,\r\n        lineStyle: {\r\n          width: 5,\r\n          color: '#00b8d4',\r\n          shadowColor: 'rgba(0,184,212,0.5)',\r\n          shadowBlur: 10\r\n        },\r\n        itemStyle: {\r\n          color: '#ffffff',\r\n          borderWidth: 3,\r\n          borderColor: '#00b8d4'\r\n        },\r\n        emphasis: {\r\n          scale: true,\r\n          itemStyle: {\r\n            color: '#00b8d4',\r\n            borderColor: '#ffffff',\r\n            borderWidth: 4,\r\n            scale: 1.2\r\n          }\r\n        },\r\n        areaStyle: {\r\n          color: {\r\n            type: 'linear',\r\n            x: 0,\r\n            y: 0,\r\n            x2: 0,\r\n            y2: 1,\r\n            colorStops: [{\r\n              offset: 0,\r\n              color: 'rgba(0,184,212,0.3)'\r\n            }, {\r\n              offset: 1,\r\n              color: 'rgba(0,184,212,0.05)'\r\n            }]\r\n          }\r\n        }\r\n      }]\r\n    });\r\n\r\n    // 摄像头相关\r\n    const remoteVideo = ref(null);\r\n    const isConnected = ref(false);\r\n    const socket = ref(null);\r\n\r\n    // 方法\r\n    const getBatteryColor = (level) => {\r\n      if (level > 70) return '#52c41a';\r\n      if (level > 30) return '#faad14';\r\n      return '#ff4d4f';\r\n    };\r\n\r\n    const apiUrl = 'http://localhost:3000';\r\n\r\n    const fetchAgvData = async () => {\r\n      try {\r\n        const response = await axios.get(`${apiUrl}/api/agvs`);\r\n        agvList.value = response.data;\r\n        updateStatistics();\r\n      } catch (error) {\r\n        console.error('Error fetching AGV data:', error);\r\n      }\r\n    };\r\n\r\n    const updateAgvStatus = async (agv) => {\r\n      try {\r\n        await axios.put(`${apiUrl}/api/agvs/${agv.id}`, agv);\r\n        await fetchAgvData();\r\n      } catch (error) {\r\n        console.error('Error updating AGV status:', error);\r\n      }\r\n    };\r\n\r\n    const updateStatistics = () => {\r\n      if (agvList.value.length > 0) {\r\n        runningAgv.value = agvList.value.filter(agv => agv.task === '运输中').length;\r\n        chargingAgv.value = agvList.value.filter(agv => agv.task === '充电中').length;\r\n        maintenanceAgv.value = agvList.value.filter(agv => agv.task === '维修中').length;\r\n        totalAgv.value = agvList.value.length;\r\n      }\r\n    };\r\n\r\n    const connectToStream = () => {\r\n      const serverUrl = window.location.hostname === 'localhost' ? \r\n        'http://localhost:3000' : `http://${window.location.hostname}:3000`;\r\n      \r\n      socket.value = io(serverUrl, {\r\n        reconnectionAttempts: 5,\r\n        reconnectionDelay: 1000,\r\n        transports: ['websocket', 'polling'],\r\n        path: '/socket.io'\r\n      });\r\n      \r\n      socket.value.on('connect', () => {\r\n        console.log('Connected to server');\r\n        isConnected.value = true;\r\n      });\r\n\r\n      socket.value.on('videoFrame', (frameData) => {\r\n        if (remoteVideo.value) {\r\n          remoteVideo.value.src = frameData;\r\n        }\r\n      });\r\n\r\n      socket.value.on('connect_error', (error) => {\r\n        console.error('Connection error:', error);\r\n        isConnected.value = false;\r\n      });\r\n\r\n      socket.value.on('disconnect', () => {\r\n        console.log('Disconnected from server');\r\n        isConnected.value = false;\r\n      });\r\n    };\r\n\r\n    const disconnectFromStream = () => {\r\n      if (socket.value) {\r\n        socket.value.disconnect();\r\n        socket.value = null;\r\n        isConnected.value = false;\r\n      }\r\n    };\r\n\r\n    const qrcodeRef = ref(null);\r\n    \r\n    const chartRef = ref(null);\r\n\r\n    onMounted(async () => {\r\n      await nextTick();\r\n      await fetchAgvData();\r\n      const refreshInterval = setInterval(fetchAgvData, 1500);\r\n\r\n      // 生成二维码\r\n      if (qrcodeRef.value) {\r\n        // 获取本机IP地址\r\n        const localIP = window.location.hostname === 'localhost' ? \r\n          'localhost' : window.location.hostname;\r\n        const mobileUrl = `http://${localIP}:8080/#/mobile-camera`;\r\n        try {\r\n          await QRCode.toCanvas(qrcodeRef.value, mobileUrl, {\r\n            width: 130,\r\n            margin: 0,\r\n            color: {\r\n              dark: '#FFFFFF',\r\n              light: '#00000000'\r\n            }\r\n          });\r\n        } catch (err) {\r\n          console.error('Error generating QR code:', err);\r\n        }\r\n      }\r\n\r\n      onUnmounted(() => {\r\n        clearInterval(refreshInterval);\r\n        disconnectFromStream();\r\n      });\r\n    });\r\n\r\n    // 添加 resize 处理函数\r\n    const handleResize = () => {\r\n      if (chartRef.value) {\r\n        nextTick(() => {\r\n          chartRef.value.resize();\r\n        });\r\n      }\r\n    };\r\n\r\n    // 监听窗口大小变化\r\n    window.addEventListener('resize', handleResize);\r\n    onUnmounted(() => {\r\n      window.removeEventListener('resize', handleResize);\r\n    });\r\n\r\n    return {\r\n      totalAgv,\r\n      runningAgv,\r\n      chargingAgv,\r\n      maintenanceAgv,\r\n      agvList,\r\n      pieOptions,\r\n      lineOptions,\r\n      remoteVideo,\r\n      isConnected,\r\n      connectToStream,\r\n      disconnectFromStream,\r\n      qrcodeRef,\r\n      chartRef,\r\n      getBatteryColor\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.content {\r\n  padding: 20px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 20px;\r\n  color: #fff;\r\n  height: calc(97vh - 60px);\r\n  border: 1px solid blue;\r\n  border-radius: 12px;\r\n  margin-top: 15px;\r\n  margin-left: 20px;\r\n  margin-right: 20px;\r\n  background: rgba(12,130,255,.85);\r\n}\r\n\r\n.status-cards {\r\n  display: grid;\r\n  grid-template-columns: repeat(4, 1fr);\r\n  gap: 20px;\r\n}\r\n\r\n\r\n.status-card {\r\n  background: rgba(12, 130, 255, 0.85);\r\n  border-radius: 8px;\r\n  padding: 30px;\r\n  text-align: center;\r\n  border: 1px solid rgba(0, 229, 255, 0.6);\r\n  transition: transform 0.3s;\r\n  height: 160px;\r\n}\r\n\r\n.status-card:hover {\r\n  transform: scale(1.05);\r\n}\r\n\r\n.status-card h3 {\r\n  margin: 0;\r\n  font-size: 18px;\r\n  color: rgba(255, 255, 255, 0.8);\r\n}\r\n.real {\r\n  color: #1890ff;\r\n}\r\n.value {\r\n  font-size: 28px;\r\n  font-weight: bold;\r\n  margin-top: 10px;\r\n}\r\n\r\n.charts-container {\r\n  display: grid;\r\n  grid-template-columns: repeat(2, 1fr);\r\n  gap: 20px;\r\n}\r\n\r\n.chart-box {\r\n  background: rgba(12, 130, 255, 0.85);\r\n  border-radius: 8px;\r\n  padding: 20px;\r\n  border: 1px solid rgba(0, 229, 255, 0.6);\r\n  height: 450px;\r\n}\r\n\r\n.monitor-content {\r\n  display: flex;\r\n  gap: 20px;\r\n  height: 380px;\r\n  width: 770px;\r\n}\r\n\r\n.video-container {\r\n  flex: 1;\r\n  background: #000;\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n  position: relative;\r\n}\r\n\r\n.video-container img {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n}\r\n\r\n.connection-status {\r\n  position: absolute;\r\n  top: 10px;\r\n  right: 10px;\r\n  padding: 5px 10px;\r\n  border-radius: 4px;\r\n  background-color: #ff4d4f;\r\n  color: white;\r\n  font-size: 12px;\r\n  transition: background-color 0.3s;\r\n}\r\n\r\n.connection-status.connected {\r\n  background-color: #52c41a;\r\n}\r\n\r\n.control-panel {\r\n  width: 150px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10px;\r\n}\r\n\r\n.control-panel button {\r\n  padding: 10px;\r\n  background: rgba(24, 144, 255, 0.8);\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  transition: all 0.3s;\r\n}\r\n\r\n.control-panel button:hover:not(:disabled) {\r\n  background: rgba(24, 144, 255, 1);\r\n}\r\n\r\n.agv-table {\r\n  background: rgba(12, 130, 255, 0.85);\r\n  border-radius: 8px;\r\n  padding: 20px;\r\n  border: 1px solid rgba(0, 229, 255, 0.6);\r\n}\r\n\r\n.agv-table h3 {\r\n  margin: 0 0 20px 0;\r\n  font-size: 16px;\r\n  text-align: center;\r\n}\r\n\r\ntable {\r\n  width: 100%;\r\n  border-collapse: separate;\r\n  border-spacing: 0;\r\n}\r\n\r\nth, td {\r\n  padding: 12px;\r\n  text-align: left;\r\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\r\n  color: #fff;\r\n}\r\n\r\n.battery-status {\r\n  position: relative;\r\n  height: 20px;\r\n  background: rgba(0, 0, 0, 0.2);\r\n  border-radius: 10px;\r\n  overflow: hidden;\r\n}\r\n\r\n.battery-bar {\r\n  height: 100%;\r\n  transition: width 0.3s ease;\r\n}\r\n\r\n.battery-status span {\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 50%;\r\n  transform: translate(-50%, -50%);\r\n  color: white;\r\n  font-size: 12px;\r\n}\r\n\r\n.status-indicator {\r\n  display: inline-block;\r\n  width: 8px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  margin-right: 8px;\r\n}\r\n\r\n.status-indicator.normal { background: #52c41a; }\r\n.status-indicator.warning { background: #faad14; }\r\n.status-indicator.error { background: #ff4d4f; }\r\n\r\nh3, span, .value, td, th {\r\n  color: #fff;\r\n}\r\n</style>\r\n"],"sourceRoot":""}]}