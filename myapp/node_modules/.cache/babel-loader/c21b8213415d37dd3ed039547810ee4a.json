{"remainingRequest":"D:\\新建文件夹\\zhonghua\\myapp\\node_modules\\babel-loader\\lib\\index.js!D:\\新建文件夹\\zhonghua\\myapp\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\新建文件夹\\zhonghua\\myapp\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\新建文件夹\\zhonghua\\myapp\\src\\components\\MobileCamera.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\新建文件夹\\zhonghua\\myapp\\src\\components\\MobileCamera.vue","mtime":1744027380719},{"path":"D:\\新建文件夹\\zhonghua\\myapp\\babel.config.js","mtime":1744027369070},{"path":"D:\\新建文件夹\\zhonghua\\myapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1744027371138},{"path":"D:\\新建文件夹\\zhonghua\\myapp\\node_modules\\babel-loader\\lib\\index.js","mtime":1744027370914},{"path":"D:\\新建文件夹\\zhonghua\\myapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1744027371138},{"path":"D:\\新建文件夹\\zhonghua\\myapp\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1744027379691}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6XFxcdTY1QjBcdTVFRkFcdTY1ODdcdTRFRjZcdTU5MzlcXHpob25naHVhXFxteWFwcFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5lcnJvci50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnRpbWVycy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5kZXNjcmlwdGlvbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgaW8gZnJvbSAnc29ja2V0LmlvLWNsaWVudCc7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTW9iaWxlQ2FtZXJhJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc3RyZWFtOiBudWxsLAogICAgICBzb2NrZXQ6IG51bGwsCiAgICAgIHNjYW5uaW5nOiBmYWxzZSwKICAgICAgcmVjb2duaXRpb25UZXh0OiAnJywKICAgICAgcmVjb2duaXRpb25JbnRlcnZhbDogbnVsbCwKICAgICAgdmlkZW9Db25zdHJhaW50czogewogICAgICAgIGZhY2luZ01vZGU6IHsKICAgICAgICAgIGV4YWN0OiAiZW52aXJvbm1lbnQiCiAgICAgICAgfSwKICAgICAgICAvLyDkvb/nlKjlkI7nva7mkYTlg4/lpLQKICAgICAgICB3aWR0aDogewogICAgICAgICAgaWRlYWw6IDEyODAKICAgICAgICB9LAogICAgICAgIGhlaWdodDogewogICAgICAgICAgaWRlYWw6IDcyMAogICAgICAgIH0KICAgICAgfSwKICAgICAgc3RyZWFtaW5nSW50ZXJ2YWw6IG51bGwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBzdGFydENhbWVyYTogZnVuY3Rpb24gc3RhcnRDYW1lcmEoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBzZXJ2ZXJVcmwsIHRlc3RSZXNwb25zZSwgX2Vycm9yJHJlc3BvbnNlLCBfZXJyb3IkcmVzcG9uc2UkZGF0YTsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDA7CiAgICAgICAgICAgICAgICAvLyDlhYjmtYvor5UgQVBJIOi/nuaOpQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJz09PSBUZXN0aW5nIEFQSSBjb25uZWN0aW9uID09PScpOwogICAgICAgICAgICAgICAgc2VydmVyVXJsID0gd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lID09PSAnbG9jYWxob3N0JyA/ICdodHRwOi8vbG9jYWxob3N0OjMwMDAnIDogImh0dHA6Ly8iLmNvbmNhdCh3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUsICI6MzAwMCIpOwogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDM7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnVGVzdGluZyBlbmRwb2ludDonLCAiIi5jb25jYXQoc2VydmVyVXJsLCAiL2FwaS90ZXN0IikpOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KCIiLmNvbmNhdChzZXJ2ZXJVcmwsICIvYXBpL3Rlc3QiKSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIHRlc3RSZXNwb25zZSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQVBJIHRlc3QgcmVzcG9uc2U6JywgdGVzdFJlc3BvbnNlLmRhdGEpOwoKICAgICAgICAgICAgICAgIGlmICghKCF0ZXN0UmVzcG9uc2UuZGF0YS5lbnYuYXBpS2V5IHx8ICF0ZXN0UmVzcG9uc2UuZGF0YS5lbnYuYXBpVXJsKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQVBJIGNvbmZpZ3VyYXRpb24gaXMgaW5jb21wbGV0ZScpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE4OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTM7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDMpOwogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignQVBJIHRlc3QgZmFpbGVkOicsIF9jb250ZXh0LnQwKTsKICAgICAgICAgICAgICAgIGFsZXJ0KCdBUEkg6L+e5o6l5rWL6K+V5aSx6LSlOiAnICsgKCgoX2Vycm9yJHJlc3BvbnNlID0gX2NvbnRleHQudDAucmVzcG9uc2UpID09PSBudWxsIHx8IF9lcnJvciRyZXNwb25zZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9lcnJvciRyZXNwb25zZSRkYXRhID0gX2Vycm9yJHJlc3BvbnNlLmRhdGEpID09PSBudWxsIHx8IF9lcnJvciRyZXNwb25zZSRkYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZXJyb3IkcmVzcG9uc2UkZGF0YS5tZXNzYWdlKSB8fCBfY29udGV4dC50MC5tZXNzYWdlKSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICAgIC8vIOe7p+e7reWOn+acieeahOaRhOWDj+WktOWQr+WKqOmAu+i+kQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1N0YXJ0aW5nIGNhbWVyYS4uLicpOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIxOwogICAgICAgICAgICAgICAgcmV0dXJuIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHsKICAgICAgICAgICAgICAgICAgdmlkZW86IF90aGlzLnZpZGVvQ29uc3RyYWludHMKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDIxOgogICAgICAgICAgICAgICAgX3RoaXMuc3RyZWFtID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzLiRyZWZzLnZpZGVvRWxlbWVudC5zcmNPYmplY3QgPSBfdGhpcy5zdHJlYW07CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnU3RhcnRpbmcgc3RyZWFtaW5nIHNlcnZpY2UuLi4nKTsKCiAgICAgICAgICAgICAgICBfdGhpcy5zdGFydFN0cmVhbWluZygpOwoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTdGFydGluZyByZWNvZ25pdGlvbiBzZXJ2aWNlLi4uJyk7CgogICAgICAgICAgICAgICAgX3RoaXMuc3RhcnRSZWNvZ25pdGlvbigpOwoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzMzsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDI5OgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDI5OwogICAgICAgICAgICAgICAgX2NvbnRleHQudDEgPSBfY29udGV4dFsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0NhbWVyYSBzdGFydHVwIGVycm9yOicsIF9jb250ZXh0LnQxKTsKICAgICAgICAgICAgICAgIGFsZXJ0KCfml6Dms5Xorr/pl67mkYTlg4/lpLQ6ICcgKyBfY29udGV4dC50MS5tZXNzYWdlKTsKCiAgICAgICAgICAgICAgY2FzZSAzMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMCwgMjldLCBbMywgMTNdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHN0b3BDYW1lcmE6IGZ1bmN0aW9uIHN0b3BDYW1lcmEoKSB7CiAgICAgIGlmICh0aGlzLnN0cmVhbSkgewogICAgICAgIHRoaXMuc3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2goZnVuY3Rpb24gKHRyYWNrKSB7CiAgICAgICAgICByZXR1cm4gdHJhY2suc3RvcCgpOwogICAgICAgIH0pOwogICAgICAgIHRoaXMuJHJlZnMudmlkZW9FbGVtZW50LnNyY09iamVjdCA9IG51bGw7CiAgICAgICAgdGhpcy5zdHJlYW0gPSBudWxsOwogICAgICB9CgogICAgICBpZiAodGhpcy5zb2NrZXQpIHsKICAgICAgICB0aGlzLnNvY2tldC5kaXNjb25uZWN0KCk7CiAgICAgICAgdGhpcy5zb2NrZXQgPSBudWxsOwogICAgICB9CgogICAgICBpZiAodGhpcy5zdHJlYW1pbmdJbnRlcnZhbCkgewogICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5zdHJlYW1pbmdJbnRlcnZhbCk7CiAgICAgICAgdGhpcy5zdHJlYW1pbmdJbnRlcnZhbCA9IG51bGw7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnJlY29nbml0aW9uSW50ZXJ2YWwpIHsKICAgICAgICBjbGVhckludGVydmFsKHRoaXMucmVjb2duaXRpb25JbnRlcnZhbCk7CiAgICAgICAgdGhpcy5yZWNvZ25pdGlvbkludGVydmFsID0gbnVsbDsKICAgICAgfQoKICAgICAgdGhpcy5yZWNvZ25pdGlvblRleHQgPSAnJzsKICAgIH0sCiAgICBzdGFydFN0cmVhbWluZzogZnVuY3Rpb24gc3RhcnRTdHJlYW1pbmcoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIHNlcnZlclVybCA9IHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSA9PT0gJ2xvY2FsaG9zdCcgPyAnaHR0cDovL2xvY2FsaG9zdDozMDAwJyA6ICJodHRwczovLyIuY29uY2F0KHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSk7CiAgICAgIHRoaXMuc29ja2V0ID0gaW8oc2VydmVyVXJsLCB7CiAgICAgICAgdHJhbnNwb3J0czogWyd3ZWJzb2NrZXQnLCAncG9sbGluZyddLAogICAgICAgIHBhdGg6ICcvc29ja2V0LmlvJwogICAgICB9KTsKICAgICAgdGhpcy5zb2NrZXQub24oJ2Nvbm5lY3QnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgY29uc29sZS5sb2coJ0Nvbm5lY3RlZCB0byBzdHJlYW1pbmcgc2VydmVyJyk7CiAgICAgIH0pOwogICAgICB0aGlzLnNvY2tldC5vbignZGlzY29ubmVjdCcsIGZ1bmN0aW9uICgpIHsKICAgICAgICBjb25zb2xlLmxvZygnRGlzY29ubmVjdGVkIGZyb20gc3RyZWFtaW5nIHNlcnZlcicpOwogICAgICB9KTsgLy8g5q+P6ZqU5LiA5a6a5pe26Ze05Y+R6YCB6KeG6aKR5binCgogICAgICB0aGlzLnN0cmVhbWluZ0ludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgIGlmIChfdGhpczIuc3RyZWFtICYmIF90aGlzMi5zb2NrZXQgJiYgX3RoaXMyLnNvY2tldC5jb25uZWN0ZWQpIHsKICAgICAgICAgIHZhciBjYW52YXMgPSBfdGhpczIuJHJlZnMuY2FudmFzRWxlbWVudDsKICAgICAgICAgIHZhciB2aWRlbyA9IF90aGlzMi4kcmVmcy52aWRlb0VsZW1lbnQ7CiAgICAgICAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpOwogICAgICAgICAgY2FudmFzLndpZHRoID0gdmlkZW8udmlkZW9XaWR0aDsKICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSB2aWRlby52aWRlb0hlaWdodDsKICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKHZpZGVvLCAwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpOwogICAgICAgICAgdmFyIGltYWdlRGF0YSA9IGNhbnZhcy50b0RhdGFVUkwoJ2ltYWdlL2pwZWcnLCAwLjUpOwoKICAgICAgICAgIF90aGlzMi5zb2NrZXQuZW1pdCgndmlkZW9GcmFtZScsIHsKICAgICAgICAgICAgaW1hZ2U6IGltYWdlRGF0YSwKICAgICAgICAgICAgcmVjb2duaXRpb25UZXh0OiBfdGhpczIucmVjb2duaXRpb25UZXh0CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0sIDEwMCk7CiAgICB9LAogICAgc3RhcnRSZWNvZ25pdGlvbjogZnVuY3Rpb24gc3RhcnRSZWNvZ25pdGlvbigpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICBjb25zb2xlLmxvZygnPT09IFN0YXJ0aW5nIHJlY29nbml0aW9uIHNlcnZpY2UgPT09Jyk7IC8vIOWFiOWPkemAgeS4gOS4qua1i+ivleWbvueJhwoKICAgICAgc2V0VGltZW91dCggLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHRlc3RJbWFnZURhdGEsIHNlcnZlclVybCwgcmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIHRlc3RJbWFnZURhdGEgPSAnZGF0YTppbWFnZS9qcGVnO2Jhc2U2NCwvOWovNEFBUVNrWkpSZ0FCQVFFQVlBQmdBQUQvMndCREFBZ0dCZ2NHQlFnSEJ3Y0pDUWdLREJRTkRBc0xEQmtTRXc4VUhSb2ZIaDBhSEJ3Z0pDNG5JQ0lzSXh3Y0tEY3BMREF4TkRRMEh5YzVQVGd5UEM0ek5ETC8yd0JEQVFrSkNRd0xEQmdORFJneUlSd2hNakl5TWpJeU1qSXlNakl5TWpJeU1qSXlNakl5TWpJeU1qSXlNakl5TWpJeU1qSXlNakl5TWpJeU1qSXlNakl5TWpML3dBQVJDQUFJQUFvREFTSUFBaEVCQXhFQi84UUFGUUFCQVFBQUFBQUFBQUFBQUFBQUFBQUFBQWIveEFBVUVBRUFBQUFBQUFBQUFBQUFBQUFBQUFBQS84UUFGUUVCQVFBQUFBQUFBQUFBQUFBQUFBQUFBQVgveEFBVUVRRUFBQUFBQUFBQUFBQUFBQUFBQUFBQS85b0FEQU1CQUFJUkF4RUFQd0NkQUJtWC85az0nOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJz09PSBTZW5kaW5nIHRlc3QgaW1hZ2UgPT09Jyk7CiAgICAgICAgICAgICAgICBzZXJ2ZXJVcmwgPSB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUgPT09ICdsb2NhbGhvc3QnID8gJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCcgOiAiaHR0cDovLyIuY29uY2F0KHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSwgIjozMDAwIik7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgiIi5jb25jYXQoc2VydmVyVXJsLCAiL2FwaS9yZWNvZ25pemUiKSwgewogICAgICAgICAgICAgICAgICBpbWFnZTogdGVzdEltYWdlRGF0YQogICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICB0aW1lb3V0OiAzMDAwMAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnVGVzdCBpbWFnZSByZXNwb25zZTonLCByZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMTA7CiAgICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdUZXN0IGltYWdlIHJlY29nbml0aW9uIGZhaWxlZDonLCBfY29udGV4dDIudDApOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzAsIDEwXV0pOwogICAgICB9KSksIDEwMDApOyAvLyDljp/mnInnmoTor4bliKvpgLvovpEKCiAgICAgIHRoaXMucmVjb2duaXRpb25JbnRlcnZhbCA9IHNldEludGVydmFsKCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgY2FudmFzLCB2aWRlbywgY29udGV4dCwgaW1hZ2VEYXRhLCBzZXJ2ZXJVcmwsIHJlc3BvbnNlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMy5zdHJlYW0pIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA0MDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAxOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJz09PSBDYXB0dXJpbmcgZnJhbWUgPT09Jyk7CiAgICAgICAgICAgICAgICBjYW52YXMgPSBfdGhpczMuJHJlZnMuY2FudmFzRWxlbWVudDsKICAgICAgICAgICAgICAgIHZpZGVvID0gX3RoaXMzLiRyZWZzLnZpZGVvRWxlbWVudDsKICAgICAgICAgICAgICAgIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsgLy8g6K6+572u6L6D5bCP55qE5bC65a+45Lul5YeP5bCR5pWw5o2u6YePCgogICAgICAgICAgICAgICAgY2FudmFzLndpZHRoID0gMzIwOwogICAgICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IDI0MDsKICAgICAgICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKHZpZGVvLCAwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpOyAvLyDojrflj5ZiYXNlNjTlm77niYfmlbDmja4KCiAgICAgICAgICAgICAgICBpbWFnZURhdGEgPSBjYW52YXMudG9EYXRhVVJMKCdpbWFnZS9qcGVnJywgMC41KTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdJbWFnZSBjYXB0dXJlZDonLCB7CiAgICAgICAgICAgICAgICAgIHNpemU6IGltYWdlRGF0YS5sZW5ndGgsCiAgICAgICAgICAgICAgICAgIHByZWZpeDogaW1hZ2VEYXRhLnN1YnN0cmluZygwLCA1MCkgKyAnLi4uJwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnPT09IFNlbmRpbmcgcmVxdWVzdCB0byBzZXJ2ZXIgPT09Jyk7CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDEyOwogICAgICAgICAgICAgICAgc2VydmVyVXJsID0gd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lID09PSAnbG9jYWxob3N0JyA/ICdodHRwOi8vbG9jYWxob3N0OjMwMDAnIDogImh0dHA6Ly8iLmNvbmNhdCh3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUsICI6MzAwMCIpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1NlcnZlciBVUkw6Jywgc2VydmVyVXJsICsgJy9hcGkvcmVjb2duaXplJyk7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3Qoc2VydmVyVXJsICsgJy9hcGkvcmVjb2duaXplJywgewogICAgICAgICAgICAgICAgICBpbWFnZTogaW1hZ2VEYXRhCiAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDMwMDAwCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnPT09IFNlcnZlciByZXNwb25zZSA9PT0nKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTdGF0dXM6JywgcmVzcG9uc2Uuc3RhdHVzKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdIZWFkZXJzOicsIHJlc3BvbnNlLmhlYWRlcnMpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0RhdGE6JywgcmVzcG9uc2UuZGF0YSk7CgogICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgJiYgcmVzcG9uc2UuZGF0YS5kZXNjcmlwdGlvbikgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnPT09IFVwZGF0aW5nIHJlY29nbml0aW9uIHRleHQgPT09Jyk7CiAgICAgICAgICAgICAgICAgIF90aGlzMy5yZWNvZ25pdGlvblRleHQgPSByZXNwb25zZS5kYXRhLmRlc2NyaXB0aW9uOwoKICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMy5zb2NrZXQgJiYgX3RoaXMzLnNvY2tldC5jb25uZWN0ZWQpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnPT09IEJyb2FkY2FzdGluZyByZXN1bHQgPT09Jyk7CgogICAgICAgICAgICAgICAgICAgIF90aGlzMy5zb2NrZXQuZW1pdCgndmlkZW9GcmFtZScsIHsKICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiBpbWFnZURhdGEsCiAgICAgICAgICAgICAgICAgICAgICByZWNvZ25pdGlvblRleHQ6IF90aGlzMy5yZWNvZ25pdGlvblRleHQKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzE7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyNToKICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMjU7CiAgICAgICAgICAgICAgICBfY29udGV4dDMudDAgPSBfY29udGV4dDNbImNhdGNoIl0oMTIpOwogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignPT09IEFQSSBDYWxsIEVycm9yID09PScpOwogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdHlwZTonLCBfY29udGV4dDMudDAuY29uc3RydWN0b3IubmFtZSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBtZXNzYWdlOicsIF9jb250ZXh0My50MC5tZXNzYWdlKTsKCiAgICAgICAgICAgICAgICBpZiAoX2NvbnRleHQzLnQwLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1Jlc3BvbnNlIHN0YXR1czonLCBfY29udGV4dDMudDAucmVzcG9uc2Uuc3RhdHVzKTsKICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignUmVzcG9uc2UgZGF0YTonLCBfY29udGV4dDMudDAucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKF9jb250ZXh0My50MC5yZXF1ZXN0KSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ05vIHJlc3BvbnNlIHJlY2VpdmVkIC0gcG9zc2libGUgbmV0d29yayBlcnJvcicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDMxOgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzODsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDMzOgogICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAzMzsKICAgICAgICAgICAgICAgIF9jb250ZXh0My50MSA9IF9jb250ZXh0M1siY2F0Y2giXSgxKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJz09PSBJbWFnZSBQcm9jZXNzaW5nIEVycm9yID09PScpOwogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdHlwZTonLCBfY29udGV4dDMudDEuY29uc3RydWN0b3IubmFtZSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBtZXNzYWdlOicsIF9jb250ZXh0My50MS5tZXNzYWdlKTsKCiAgICAgICAgICAgICAgY2FzZSAzODoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNDE7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA0MDoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTdHJlYW0gbm90IGF2YWlsYWJsZScpOwoKICAgICAgICAgICAgICBjYXNlIDQxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzLCBudWxsLCBbWzEsIDMzXSwgWzEyLCAyNV1dKTsKICAgICAgfSkpLCA4MDAwKTsKICAgIH0sCiAgICAvLyDmt7vliqDlm77niYfkuIrkvKDliLDlm77luornmoTlh73mlbAKICAgIHVwbG9hZFRvSW1hZ2VIb3N0OiBmdW5jdGlvbiB1cGxvYWRUb0ltYWdlSG9zdChpbWFnZURhdGEpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgdmFyIGZvcm1EYXRhLCBibG9iLCByZXNwb25zZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ0LnByZXYgPSAwOwogICAgICAgICAgICAgICAgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsgLy8g5bCGYmFzZTY06L2s5o2i5Li65paH5Lu2CgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGZldGNoKGltYWdlRGF0YSkudGhlbihmdW5jdGlvbiAocikgewogICAgICAgICAgICAgICAgICByZXR1cm4gci5ibG9iKCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgYmxvYiA9IF9jb250ZXh0NC5zZW50OwogICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdpbWFnZScsIGJsb2IpOyAvLyDov5nph4zmm7/mjaLkuLrlrp7pmYXnmoTlm77luorkuIrkvKBBUEkKCiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgnWU9VUl9JTUFHRV9IT1NUX0FQSScsIGZvcm1EYXRhLCB7CiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ211bHRpcGFydC9mb3JtLWRhdGEnCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0NC5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIsIHJlc3BvbnNlLmRhdGEudXJsKTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5wcmV2ID0gMTI7CiAgICAgICAgICAgICAgICBfY29udGV4dDQudDAgPSBfY29udGV4dDRbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGxvYWRpbmcgaW1hZ2U6JywgX2NvbnRleHQ0LnQwKTsKICAgICAgICAgICAgICAgIHRocm93IF9jb250ZXh0NC50MDsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCwgbnVsbCwgW1swLCAxMl1dKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgdGhpcy5zdG9wQ2FtZXJhKCk7CiAgfQp9Ow=="},{"version":3,"sources":["D:\\新建文件夹\\zhonghua\\myapp\\src\\components\\MobileCamera.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"camera-container\">\r\n    <div class=\"video-wrapper\">\r\n      <video ref=\"videoElement\" autoplay playsinline></video>\r\n      <div class=\"recognition-result\" v-if=\"recognitionText\">\r\n        {{ recognitionText }}\r\n      </div>\r\n    </div>\r\n    <canvas ref=\"canvasElement\" style=\"display: none;\"></canvas>\r\n    <div class=\"controls\">\r\n      <button @click=\"startCamera\">开启摄像头</button>\r\n      <button @click=\"stopCamera\">关闭摄像头</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport io from 'socket.io-client'\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  name: 'MobileCamera',\r\n  data() {\r\n    return {\r\n      stream: null,\r\n      socket: null,\r\n      scanning: false,\r\n      recognitionText: '',\r\n      recognitionInterval: null,\r\n      videoConstraints: {\r\n        facingMode: { exact: \"environment\" }, // 使用后置摄像头\r\n        width: { ideal: 1280 },\r\n        height: { ideal: 720 }\r\n      },\r\n      streamingInterval: null\r\n    }\r\n  },\r\n  methods: {\r\n    async startCamera() {\r\n      try {\r\n        // 先测试 API 连接\r\n        console.log('=== Testing API connection ===');\r\n        const serverUrl = window.location.hostname === 'localhost' ? \r\n          'http://localhost:3000' : `http://${window.location.hostname}:3000`;\r\n        \r\n        try {\r\n          console.log('Testing endpoint:', `${serverUrl}/api/test`);\r\n          const testResponse = await axios.get(`${serverUrl}/api/test`);\r\n          console.log('API test response:', testResponse.data);\r\n          \r\n          if (!testResponse.data.env.apiKey || !testResponse.data.env.apiUrl) {\r\n            throw new Error('API configuration is incomplete');\r\n          }\r\n        } catch (error) {\r\n          console.error('API test failed:', error);\r\n          alert('API 连接测试失败: ' + (error.response?.data?.message || error.message));\r\n          return;\r\n        }\r\n\r\n        // 继续原有的摄像头启动逻辑\r\n        console.log('Starting camera...');\r\n        this.stream = await navigator.mediaDevices.getUserMedia({\r\n          video: this.videoConstraints\r\n        });\r\n        this.$refs.videoElement.srcObject = this.stream;\r\n        \r\n        console.log('Starting streaming service...');\r\n        this.startStreaming();\r\n        \r\n        console.log('Starting recognition service...');\r\n        this.startRecognition();\r\n      } catch (error) {\r\n        console.error('Camera startup error:', error);\r\n        alert('无法访问摄像头: ' + error.message);\r\n      }\r\n    },\r\n    stopCamera() {\r\n      if (this.stream) {\r\n        this.stream.getTracks().forEach(track => track.stop());\r\n        this.$refs.videoElement.srcObject = null;\r\n        this.stream = null;\r\n      }\r\n      if (this.socket) {\r\n        this.socket.disconnect();\r\n        this.socket = null;\r\n      }\r\n      if (this.streamingInterval) {\r\n        clearInterval(this.streamingInterval);\r\n        this.streamingInterval = null;\r\n      }\r\n      if (this.recognitionInterval) {\r\n        clearInterval(this.recognitionInterval);\r\n        this.recognitionInterval = null;\r\n      }\r\n      this.recognitionText = '';\r\n    },\r\n    startStreaming() {\r\n      const serverUrl = window.location.hostname === 'localhost' \r\n        ? 'http://localhost:3000' \r\n        : `https://${window.location.hostname}`;\r\n      \r\n      this.socket = io(serverUrl, {\r\n        transports: ['websocket', 'polling'],\r\n        path: '/socket.io'\r\n      });\r\n\r\n      this.socket.on('connect', () => {\r\n        console.log('Connected to streaming server');\r\n      });\r\n\r\n      this.socket.on('disconnect', () => {\r\n        console.log('Disconnected from streaming server');\r\n      });\r\n\r\n      // 每隔一定时间发送视频帧\r\n      this.streamingInterval = setInterval(() => {\r\n        if (this.stream && this.socket && this.socket.connected) {\r\n          const canvas = this.$refs.canvasElement;\r\n          const video = this.$refs.videoElement;\r\n          const context = canvas.getContext('2d');\r\n          \r\n          canvas.width = video.videoWidth;\r\n          canvas.height = video.videoHeight;\r\n          context.drawImage(video, 0, 0, canvas.width, canvas.height);\r\n          \r\n          const imageData = canvas.toDataURL('image/jpeg', 0.5);\r\n          this.socket.emit('videoFrame', {\r\n            image: imageData,\r\n            recognitionText: this.recognitionText\r\n          });\r\n        }\r\n      }, 100);\r\n    },\r\n    startRecognition() {\r\n      console.log('=== Starting recognition service ===');\r\n      // 先发送一个测试图片\r\n      setTimeout(async () => {\r\n        try {\r\n          const testImageData = 'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCAAIAAoDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAb/xAAUEAEAAAAAAAAAAAAAAAAAAAAA/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAX/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwCdABmX/9k=';\r\n          \r\n          console.log('=== Sending test image ===');\r\n          const serverUrl = window.location.hostname === 'localhost' ? \r\n            'http://localhost:3000' : `http://${window.location.hostname}:3000`;\r\n          \r\n          const response = await axios.post(`${serverUrl}/api/recognize`, {\r\n            image: testImageData\r\n          }, {\r\n            headers: {\r\n              'Content-Type': 'application/json'\r\n            },\r\n            timeout: 30000\r\n          });\r\n          \r\n          console.log('Test image response:', response.data);\r\n        } catch (error) {\r\n          console.error('Test image recognition failed:', error);\r\n        }\r\n      }, 1000);\r\n\r\n      // 原有的识别逻辑\r\n      this.recognitionInterval = setInterval(async () => {\r\n        if (this.stream) {\r\n          try {\r\n            console.log('=== Capturing frame ===');\r\n            const canvas = this.$refs.canvasElement;\r\n            const video = this.$refs.videoElement;\r\n            const context = canvas.getContext('2d');\r\n            \r\n            // 设置较小的尺寸以减少数据量\r\n            canvas.width = 320;\r\n            canvas.height = 240;\r\n            context.drawImage(video, 0, 0, canvas.width, canvas.height);\r\n            \r\n            // 获取base64图片数据\r\n            const imageData = canvas.toDataURL('image/jpeg', 0.5);\r\n            console.log('Image captured:', {\r\n              size: imageData.length,\r\n              prefix: imageData.substring(0, 50) + '...'\r\n            });\r\n            \r\n            console.log('=== Sending request to server ===');\r\n            try {\r\n              const serverUrl = window.location.hostname === 'localhost' ? \r\n                'http://localhost:3000' : `http://${window.location.hostname}:3000`;\r\n              \r\n              console.log('Server URL:', serverUrl + '/api/recognize');\r\n              const response = await axios.post(serverUrl + '/api/recognize', {\r\n                image: imageData\r\n              }, {\r\n                headers: {\r\n                  'Content-Type': 'application/json'\r\n                },\r\n                timeout: 30000\r\n              });\r\n              \r\n              console.log('=== Server response ===');\r\n              console.log('Status:', response.status);\r\n              console.log('Headers:', response.headers);\r\n              console.log('Data:', response.data);\r\n              \r\n              if (response.data && response.data.description) {\r\n                console.log('=== Updating recognition text ===');\r\n                this.recognitionText = response.data.description;\r\n                \r\n                if (this.socket && this.socket.connected) {\r\n                  console.log('=== Broadcasting result ===');\r\n                  this.socket.emit('videoFrame', {\r\n                    image: imageData,\r\n                    recognitionText: this.recognitionText\r\n                  });\r\n                }\r\n              }\r\n            } catch (error) {\r\n              console.error('=== API Call Error ===');\r\n              console.error('Error type:', error.constructor.name);\r\n              console.error('Error message:', error.message);\r\n              if (error.response) {\r\n                console.error('Response status:', error.response.status);\r\n                console.error('Response data:', error.response.data);\r\n              } else if (error.request) {\r\n                console.error('No response received - possible network error');\r\n              }\r\n            }\r\n          } catch (error) {\r\n            console.error('=== Image Processing Error ===');\r\n            console.error('Error type:', error.constructor.name);\r\n            console.error('Error message:', error.message);\r\n          }\r\n        } else {\r\n          console.log('Stream not available');\r\n        }\r\n      }, 8000);\r\n    },\r\n    // 添加图片上传到图床的函数\r\n    async uploadToImageHost(imageData) {\r\n      // 这里需要实现实际的图片上传逻辑\r\n      // 可以使用第三方图床API，如七牛云、阿里云OSS等\r\n      // 返回上传后的图片URL\r\n      try {\r\n        const formData = new FormData();\r\n        // 将base64转换为文件\r\n        const blob = await fetch(imageData).then(r => r.blob());\r\n        formData.append('image', blob);\r\n        \r\n        // 这里替换为实际的图床上传API\r\n        const response = await axios.post('YOUR_IMAGE_HOST_API', formData, {\r\n          headers: {\r\n            'Content-Type': 'multipart/form-data'\r\n          }\r\n        });\r\n        \r\n        return response.data.url; // 返回上传后的图片URL\r\n      } catch (error) {\r\n        console.error('Error uploading image:', error);\r\n        throw error;\r\n      }\r\n    }\r\n  },\r\n  beforeDestroy() {\r\n    this.stopCamera();\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.camera-container {\r\n  width: 100%;\r\n  max-width: 800px;\r\n  margin: 0 auto;\r\n  padding: 20px;\r\n}\r\n\r\n.video-wrapper {\r\n  position: relative;\r\n  width: 100%;\r\n  max-width: 640px;\r\n  margin: 0 auto;\r\n}\r\n\r\nvideo {\r\n  width: 100%;\r\n  display: block;\r\n  border: 1px solid #ccc;\r\n  border-radius: 8px;\r\n}\r\n\r\n.recognition-result {\r\n  position: absolute;\r\n  bottom: 20px;\r\n  left: 20px;\r\n  right: 20px;\r\n  background: rgba(0, 0, 0, 0.7);\r\n  color: white;\r\n  padding: 10px;\r\n  border-radius: 4px;\r\n  font-size: 14px;\r\n  line-height: 1.4;\r\n}\r\n\r\n.controls {\r\n  margin-top: 20px;\r\n  text-align: center;\r\n}\r\n\r\nbutton {\r\n  margin: 0 10px;\r\n  padding: 10px 20px;\r\n  background-color: #4CAF50;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n}\r\n\r\nbutton:hover {\r\n  background-color: #45a049;\r\n}\r\n</style> "],"sourceRoot":""}]}