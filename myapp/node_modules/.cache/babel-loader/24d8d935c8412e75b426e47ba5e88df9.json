{"remainingRequest":"D:\\新建文件夹\\zhonghua\\myapp\\node_modules\\babel-loader\\lib\\index.js!D:\\新建文件夹\\zhonghua\\myapp\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\新建文件夹\\zhonghua\\myapp\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\新建文件夹\\zhonghua\\myapp\\src\\components\\SpaceTimeDimension.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\新建文件夹\\zhonghua\\myapp\\src\\components\\SpaceTimeDimension.vue","mtime":1744027380719},{"path":"D:\\新建文件夹\\zhonghua\\myapp\\babel.config.js","mtime":1744027369070},{"path":"D:\\新建文件夹\\zhonghua\\myapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1744027371138},{"path":"D:\\新建文件夹\\zhonghua\\myapp\\node_modules\\babel-loader\\lib\\index.js","mtime":1744027370914},{"path":"D:\\新建文件夹\\zhonghua\\myapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1744027371138},{"path":"D:\\新建文件夹\\zhonghua\\myapp\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1744027379691}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6XFxcdTY1QjBcdTVFRkFcdTY1ODdcdTRFRjZcdTU5MzlcXHpob25naHVhXFxteWFwcFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgeyByZWYsIG9uTW91bnRlZCwgb25Vbm1vdW50ZWQsIG5leHRUaWNrIH0gZnJvbSAndnVlJzsKaW1wb3J0ICdsZWFmbGV0L2Rpc3QvbGVhZmxldC5jc3MnOwppbXBvcnQgTCBmcm9tICdsZWFmbGV0JzsKaW1wb3J0IGJlaWppbmcxIGZyb20gJy4uL2Fzc2V0cy/ljJflrovop4LmmJ/lj7AucG5nJzsKaW1wb3J0IGJlaWppbmcyIGZyb20gJy4uL2Fzc2V0cy/lpKnmlofop4LmtYvku6rlmagucG5nJzsKaW1wb3J0IGhoMSBmcm9tICcuLi9hc3NldHMv5Y+k6KeC6LGh5Y+w5YWo5pmvLnBuZyc7CmltcG9ydCBoaDIgZnJvbSAnLi4vYXNzZXRzL+a1keWkqeS7qi5wbmcnOwppbXBvcnQgbmFuamluZzEgZnJvbSAnLi4vYXNzZXRzL+e0q+mHkeWxseinguaZr+WPsC5wbmcnOwppbXBvcnQgbmFuamluZzIgZnJvbSAnLi4vYXNzZXRzL+WkqeaWh+ingua1i+S7quWZqC5wbmcnOwppbXBvcnQgbHVveWFuZzEgZnJvbSAnLi4vYXNzZXRzL+a1i+aZr+WPsOmBl+WdgC5wbmcnOwppbXBvcnQgbHVveWFuZzIgZnJvbSAnLi4vYXNzZXRzL+aXpeW9sea1i+mHj+S7quWZqC5wbmcnOwppbXBvcnQgeGlhbjEgZnJvbSAnLi4vYXNzZXRzL+WkqeaWh+WPsOmBl+WdgC5wbmcnOwppbXBvcnQgeGlhbjIgZnJvbSAnLi4vYXNzZXRzL+WHuuWcn+WkqeaWh+S7quWZqC5wbmcnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1NwYWNlVGltZURpbWVuc2lvbicsCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgdmFyIG1hcCA9IHJlZihudWxsKTsKICAgIHZhciBjdXJyZW50RHluYXN0eSA9IHJlZignYWxsJyk7CiAgICB2YXIgc2hvd0hlYXRtYXAgPSByZWYodHJ1ZSk7CiAgICB2YXIgc2hvd1NpdGVzID0gcmVmKHRydWUpOwogICAgdmFyIHNob3dPYnNlcnZhdG9yaWVzID0gcmVmKHRydWUpOwogICAgdmFyIHNlbGVjdGVkU2l0ZSA9IHJlZihudWxsKTsKICAgIHZhciBpc1BsYXlpbmcgPSByZWYoZmFsc2UpOwogICAgdmFyIGN1cnJlbnRZZWFyID0gcmVmKC0yMDAwKTsKICAgIHZhciBzaXRlSW5mb1Zpc2libGUgPSByZWYoZmFsc2UpOwogICAgdmFyIGR5bmFzdGllcyA9IFt7CiAgICAgIGxhYmVsOiAn5YWo6YOoJywKICAgICAgdmFsdWU6ICdhbGwnCiAgICB9LCB7CiAgICAgIGxhYmVsOiAn5YWI56emJywKICAgICAgdmFsdWU6ICdwcmUtcWluJwogICAgfSwgewogICAgICBsYWJlbDogJ+enpuaxiScsCiAgICAgIHZhbHVlOiAncWluLWhhbicKICAgIH0sIHsKICAgICAgbGFiZWw6ICfprY/mmYvljZfljJfmnJ0nLAogICAgICB2YWx1ZTogJ3dlaS1qaW4nCiAgICB9LCB7CiAgICAgIGxhYmVsOiAn6ZqL5ZSQJywKICAgICAgdmFsdWU6ICdzdWktdGFuZycKICAgIH0sIHsKICAgICAgbGFiZWw6ICflrovlhYMnLAogICAgICB2YWx1ZTogJ3NvbmcteXVhbicKICAgIH0sIHsKICAgICAgbGFiZWw6ICfmmI7muIUnLAogICAgICB2YWx1ZTogJ21pbmctcWluZycKICAgIH1dOwogICAgdmFyIHRpbWVsaW5lRXZlbnRzID0gW3sKICAgICAgeWVhcjogLTIwMDAsCiAgICAgIG5hbWU6ICfnlLLpqqjmloflpKnosaHorrDlvZUnLAogICAgICBkZXNjcmlwdGlvbjogJ+WVhuS7o+eUsumqqOaWh+S4reiusOi9veWkqeixoScKICAgIH0sIHsKICAgICAgeWVhcjogLTEwMDAsCiAgICAgIG5hbWU6ICflkajku6Pop4LmmJ/lj7Dlu7rnq4snLAogICAgICBkZXNjcmlwdGlvbjogJ+WRqOS7o+iuvueri+inguixoeWPsCcKICAgIH0sIHsKICAgICAgeWVhcjogMTAwLAogICAgICBuYW1lOiAn5byg6KGh5Yi25rWR5aSp5LuqJywKICAgICAgZGVzY3JpcHRpb246ICfkuJzmsYnlvKDooaHliLbpgKDmtZHlpKnku6onCiAgICB9LCB7CiAgICAgIHllYXI6IDcyNCwKICAgICAgbmFtZTogJ+WDp+S4gOihjOa1i+mHj+WtkOWNiOe6vycsCiAgICAgIGRlc2NyaXB0aW9uOiAn5ZSQ5pyd5YOn5LiA6KGM5Li75oyB5rWL6YeP5a2Q5Y2I57q/JwogICAgfSwgewogICAgICB5ZWFyOiAxMDkyLAogICAgICBuYW1lOiAn6IuP6aKC5rC06L+Q5Luq6LGh5Y+wJywKICAgICAgZGVzY3JpcHRpb246ICfljJflrovoi4/pooLlu7rpgKDmsLTov5Dku6rosaHlj7AnCiAgICB9LCB7CiAgICAgIHllYXI6IDEyNzYsCiAgICAgIG5hbWU6ICfpg63lrojmlazmlLnpnanljobms5UnLAogICAgICBkZXNjcmlwdGlvbjogJ+WFg+S7o+mDreWuiOaVrOS4u+aMgeaOiOaXtuWOhuaUuemdqScKICAgIH1dOyAvLyDliJ3lp4vljJblnLDlm74KCiAgICB2YXIgaW5pdE1hcCA9IGZ1bmN0aW9uIGluaXRNYXAoKSB7CiAgICAgIG1hcC52YWx1ZSA9IEwubWFwKCdtYXAnKS5zZXRWaWV3KFszNC41LCAxMDguNV0sIDUpOyAvLyDkvb/nlKjmt7HoibLlnLDlm77kuLvpopgKCiAgICAgIEwudGlsZUxheWVyKCdodHRwczovL3tzfS50aWxlLm9wZW5zdHJlZXRtYXAub3JnL3t6fS97eH0ve3l9LnBuZycsIHsKICAgICAgICBhdHRyaWJ1dGlvbjogJ8KpIE9wZW5TdHJlZXRNYXAgY29udHJpYnV0b3JzJywKICAgICAgICBjbGFzc05hbWU6ICdtYXAtdGlsZXMnCiAgICAgIH0pLmFkZFRvKG1hcC52YWx1ZSk7IC8vIOa3u+WKoOWcsOWbvuagt+W8jwoKICAgICAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTsKICAgICAgc3R5bGUudGV4dENvbnRlbnQgPSAiXG4gICAgICAgIC5tYXAtdGlsZXMge1xuICAgICAgICAgIGZpbHRlcjogZ3JheXNjYWxlKDEwMCUpIGludmVydCgxMDAlKSBicmlnaHRuZXNzKDAuOCkgc2VwaWEoMzAlKSBodWUtcm90YXRlKDE4MGRlZyk7XG4gICAgICAgIH1cbiAgICAgICI7CiAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpOyAvLyDmt7vliqDlj6Tku6PlpKnmlofpgZflnYDmoIforrAKCiAgICAgIGFkZFNpdGVNYXJrZXJzKCk7CiAgICB9OyAvLyDmt7vliqDpgZflnYDmoIforrAKCgogICAgdmFyIGFkZFNpdGVNYXJrZXJzID0gZnVuY3Rpb24gYWRkU2l0ZU1hcmtlcnMoKSB7CiAgICAgIHZhciBzaXRlcyA9IFt7CiAgICAgICAgbmFtZTogJ+eZu+WwgeinguaYn+WPsCcsCiAgICAgICAgbG9jYXRpb246IFszNC41LCAxMTMuMF0sCiAgICAgICAgZHluYXN0eTogJ3NvbmcteXVhbicsCiAgICAgICAgZGVzY3JpcHRpb246ICfljJflrovml7bmnJ/ph43opoHnmoTlpKnmlofop4LmtYvnq5nvvIzpg63lrojmlazkuLvmjIHkv67lu7onLAogICAgICAgIGltYWdlczogW3sKICAgICAgICAgIHVybDogYmVpamluZzEsCiAgICAgICAgICBjYXB0aW9uOiAn6KeC5pif5Y+w5YWo5pmvJwogICAgICAgIH0sIHsKICAgICAgICAgIHVybDogYmVpamluZzIsCiAgICAgICAgICBjYXB0aW9uOiAn5Y+k5Luj6KeC5rWL5Luq5ZmoJwogICAgICAgIH1dCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAn5YyX5Lqs5Y+k6KeC6LGh5Y+wJywKICAgICAgICBsb2NhdGlvbjogWzM5LjksIDExNi40XSwKICAgICAgICBkeW5hc3R5OiAnbWluZy1xaW5nJywKICAgICAgICBkZXNjcmlwdGlvbjogJ+aYjua4heS4pOS7o+eah+WutuWkqeaWh+WPsO+8jOS/neWtmOaciea1keWkqeS7quetieePjei0teS7quWZqCcsCiAgICAgICAgaW1hZ2VzOiBbewogICAgICAgICAgdXJsOiBoaDEsCiAgICAgICAgICBjYXB0aW9uOiAn5Y+k6KeC6LGh5Y+w5YWo5pmvJwogICAgICAgIH0sIHsKICAgICAgICAgIHVybDogaGgyLAogICAgICAgICAgY2FwdGlvbjogJ+a1keWkqeS7qicKICAgICAgICB9XQogICAgICB9LCB7CiAgICAgICAgbmFtZTogJ+WNl+S6rOe0q+mHkeWxseWkqeaWh+WPsCcsCiAgICAgICAgbG9jYXRpb246IFszMi4xLCAxMTguOF0sCiAgICAgICAgZHluYXN0eTogJ21pbmctcWluZycsCiAgICAgICAgZGVzY3JpcHRpb246ICfmmI7ku6PlpKnmloflj7DpgZflnYDvvIznjrDkuLrnjrDku6PlpKnmloflj7AnLAogICAgICAgIGltYWdlczogW3sKICAgICAgICAgIHVybDogbmFuamluZzEsCiAgICAgICAgICBjYXB0aW9uOiAn57Sr6YeR5bGx5aSp5paH5Y+wJwogICAgICAgIH0sIHsKICAgICAgICAgIHVybDogbmFuamluZzIsCiAgICAgICAgICBjYXB0aW9uOiAn5Y+k5Luj5aSp5paH5Luq5ZmoJwogICAgICAgIH1dCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAn5rSb6Ziz5ZGo5YWs5rWL5pmv5Y+wJywKICAgICAgICBsb2NhdGlvbjogWzM0LjYsIDExMi40XSwKICAgICAgICBkeW5hc3R5OiAncHJlLXFpbicsCiAgICAgICAgZGVzY3JpcHRpb246ICflkajku6PlkajlhazmtYvph4/ml6XlvbHnmoTph43opoHpgZflnYAnLAogICAgICAgIGltYWdlczogW3sKICAgICAgICAgIHVybDogbHVveWFuZzEsCiAgICAgICAgICBjYXB0aW9uOiAn5rWL5pmv5Y+w6YGX5Z2AJwogICAgICAgIH0sIHsKICAgICAgICAgIHVybDogbHVveWFuZzIsCiAgICAgICAgICBjYXB0aW9uOiAn5pel5b2x5rWL6YeP5Luq5ZmoJwogICAgICAgIH1dCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAn6KW/5a6J5aSp5paH5Y+w6YGX5Z2AJywKICAgICAgICBsb2NhdGlvbjogWzM0LjMsIDEwOC45XSwKICAgICAgICBkeW5hc3R5OiAncWluLWhhbicsCiAgICAgICAgZGVzY3JpcHRpb246ICfnp6bmsYnml7bmnJ/ph43opoHnmoTlpKnmlofop4LmtYvkuK3lv4MnLAogICAgICAgIGltYWdlczogW3sKICAgICAgICAgIHVybDogeGlhbjEsCiAgICAgICAgICBjYXB0aW9uOiAn5aSp5paH5Y+w6YGX5Z2AJwogICAgICAgIH0sIHsKICAgICAgICAgIHVybDogeGlhbjIsCiAgICAgICAgICBjYXB0aW9uOiAn5Ye65Zyf5aSp5paH5Luq5ZmoJwogICAgICAgIH1dCiAgICAgIH1dOyAvLyDmuIXpmaTnjrDmnInmoIforrAKCiAgICAgIGlmIChtYXAudmFsdWUpIHsKICAgICAgICBtYXAudmFsdWUuZWFjaExheWVyKGZ1bmN0aW9uIChsYXllcikgewogICAgICAgICAgaWYgKGxheWVyIGluc3RhbmNlb2YgTC5NYXJrZXIpIHsKICAgICAgICAgICAgbWFwLnZhbHVlLnJlbW92ZUxheWVyKGxheWVyKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSAvLyDmt7vliqDmlrDmoIforrAKCgogICAgICBzaXRlcy5mb3JFYWNoKGZ1bmN0aW9uIChzaXRlKSB7CiAgICAgICAgaWYgKHNob3dTaXRlcy52YWx1ZSAmJiAoY3VycmVudER5bmFzdHkudmFsdWUgPT09ICdhbGwnIHx8IHNpdGUuZHluYXN0eSA9PT0gY3VycmVudER5bmFzdHkudmFsdWUpKSB7CiAgICAgICAgICB2YXIgY3VzdG9tSWNvbiA9IEwuZGl2SWNvbih7CiAgICAgICAgICAgIGNsYXNzTmFtZTogJ2N1c3RvbS1tYXJrZXInLAogICAgICAgICAgICBodG1sOiAiPGRpdiBjbGFzcz1cIm1hcmtlci1jb250ZW50XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtYXJrZXItZG90XCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtYXJrZXItbGFiZWxcIj4iLmNvbmNhdChzaXRlLm5hbWUsICI8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PiIpLAogICAgICAgICAgICBpY29uU2l6ZTogWzMwLCAzMF0sCiAgICAgICAgICAgIGljb25BbmNob3I6IFsxNSwgMTVdCiAgICAgICAgICB9KTsKICAgICAgICAgIEwubWFya2VyKHNpdGUubG9jYXRpb24sIHsKICAgICAgICAgICAgaWNvbjogY3VzdG9tSWNvbgogICAgICAgICAgfSkuYWRkVG8obWFwLnZhbHVlKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHNlbGVjdGVkU2l0ZS52YWx1ZSA9IHNpdGU7CiAgICAgICAgICAgIHNob3dTaXRlSW5mbygpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH07IC8vIOa3u+WKoOWbvueJh+mUmeivr+WkhOeQhgoKCiAgICB2YXIgaGFuZGxlSW1hZ2VFcnJvciA9IGZ1bmN0aW9uIGhhbmRsZUltYWdlRXJyb3IoZSkgewogICAgICBjb25zb2xlLmVycm9yKCdJbWFnZSBmYWlsZWQgdG8gbG9hZDonLCBlLnRhcmdldC5zcmMpOwogICAgICBlLnRhcmdldC5zcmMgPSAnZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCM2FXUjBhRDBpTWpBd0lpQm9aV2xuYUhROUlqSXdNQ0lnZUcxc2JuTTlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5Mekl3TURBdmMzWm5JajQ4Y21WamRDQjNhV1IwYUQwaU1qQXdJaUJvWldsbmFIUTlJakl3TUNJZ1ptbHNiRDBpSXpNek16TXpNeUl2UGp4MFpYaDBJSGc5SWpVd0pTSWdlVDBpTlRBbElpQm1iMjUwTFdaaGJXbHNlVDBpUVhKcFlXd2lJR1p2Ym5RdGMybDZaVDBpTWpRaUlHWnBiR3c5SWlObVptWm1abVlpSUhSbGVIUXRZVzVqYUc5eVBTSnRhV1JrYkdVaUlHUjVQU0l1TTJWdElqN2xtNzduaVlmbGlxRG92YjNscExIb3RLVThMM1JsZUhRK1BDOXpkbWMrJzsKICAgIH07IC8vIOS/ruaUueaYvuekuumBl+WdgOS/oeaBr+eahOaWueazlQoKCiAgICB2YXIgc2hvd1NpdGVJbmZvID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgc2l0ZUluZm9WaXNpYmxlLnZhbHVlID0gZmFsc2U7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBuZXh0VGljaygpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBzaXRlSW5mb1Zpc2libGUudmFsdWUgPSB0cnVlOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpOwoKICAgICAgcmV0dXJuIGZ1bmN0aW9uIHNob3dTaXRlSW5mbygpIHsKICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfSgpOyAvLyDml7bpl7TovbTmjqfliLYKCgogICAgdmFyIHBsYXlUaW1lbGluZSA9IGZ1bmN0aW9uIHBsYXlUaW1lbGluZSgpIHsKICAgICAgaXNQbGF5aW5nLnZhbHVlID0gdHJ1ZTsKCiAgICAgIHZhciBhbmltYXRlID0gZnVuY3Rpb24gYW5pbWF0ZSgpIHsKICAgICAgICBpZiAoIWlzUGxheWluZy52YWx1ZSkgcmV0dXJuOwoKICAgICAgICBpZiAoY3VycmVudFllYXIudmFsdWUgPCAxOTAwKSB7CiAgICAgICAgICBjdXJyZW50WWVhci52YWx1ZSArPSAxMDsgLy8g5pu05paw5Zyw5Zu+5pi+56S6CgogICAgICAgICAgdXBkYXRlTWFwRm9yWWVhcihjdXJyZW50WWVhci52YWx1ZSk7CiAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHN0b3BUaW1lbGluZSgpOwogICAgICAgIH0KICAgICAgfTsKCiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTsKICAgIH07CgogICAgdmFyIHN0b3BUaW1lbGluZSA9IGZ1bmN0aW9uIHN0b3BUaW1lbGluZSgpIHsKICAgICAgaXNQbGF5aW5nLnZhbHVlID0gZmFsc2U7CiAgICB9OwoKICAgIHZhciB1cGRhdGVNYXBGb3JZZWFyID0gZnVuY3Rpb24gdXBkYXRlTWFwRm9yWWVhcih5ZWFyKSB7CiAgICAgIC8vIOagueaNruW5tOS7veabtOaWsOWcsOWbvuaYvuekugogICAgICB2YXIgem9vbSA9IG1hcC52YWx1ZS5nZXRab29tKCk7CiAgICAgIHZhciBjZW50ZXIgPSBtYXAudmFsdWUuZ2V0Q2VudGVyKCk7IC8vIOa3u+WKoOi/h+a4oeWKqOeUuwoKICAgICAgbWFwLnZhbHVlLmZseVRvKGNlbnRlciwgem9vbSwgewogICAgICAgIGR1cmF0aW9uOiAwLjUsCiAgICAgICAgZWFzZUxpbmVhcml0eTogMC4yNQogICAgICB9KTsKICAgIH07CgogICAgdmFyIGdldEV2ZW50UG9zaXRpb24gPSBmdW5jdGlvbiBnZXRFdmVudFBvc2l0aW9uKHllYXIpIHsKICAgICAgdmFyIHRvdGFsWWVhcnMgPSAzOTAwOyAvLyBmcm9tIC0yMDAwIHRvIDE5MDAKCiAgICAgIHJldHVybiAoeWVhciArIDIwMDApIC8gdG90YWxZZWFycyAqIDEwMDsKICAgIH07CgogICAgdmFyIHNlbGVjdEV2ZW50ID0gZnVuY3Rpb24gc2VsZWN0RXZlbnQoZXZlbnQpIHsKICAgICAgY3VycmVudFllYXIudmFsdWUgPSBldmVudC55ZWFyOwogICAgICB1cGRhdGVNYXBGb3JZZWFyKGV2ZW50LnllYXIpOwogICAgfTsKCiAgICB2YXIgc2VsZWN0RHluYXN0eSA9IGZ1bmN0aW9uIHNlbGVjdER5bmFzdHkoZHluYXN0eSkgewogICAgICBjb25zb2xlLmxvZygiU2VsZWN0ZWQgZHluYXN0eTogIi5jb25jYXQoZHluYXN0eSkpOyAvLyDosIPor5Xkv6Hmga8KCiAgICAgIGN1cnJlbnREeW5hc3R5LnZhbHVlID0gZHluYXN0eTsKICAgICAgYWRkU2l0ZU1hcmtlcnMoKTsKICAgIH07CgogICAgb25Nb3VudGVkKGZ1bmN0aW9uICgpIHsKICAgICAgaW5pdE1hcCgpOwogICAgfSk7CiAgICBvblVubW91bnRlZChmdW5jdGlvbiAoKSB7CiAgICAgIGlmIChtYXAudmFsdWUpIHsKICAgICAgICBtYXAudmFsdWUucmVtb3ZlKCk7CiAgICAgIH0KICAgIH0pOwogICAgcmV0dXJuIHsKICAgICAgY3VycmVudER5bmFzdHk6IGN1cnJlbnREeW5hc3R5LAogICAgICBzaG93SGVhdG1hcDogc2hvd0hlYXRtYXAsCiAgICAgIHNob3dTaXRlczogc2hvd1NpdGVzLAogICAgICBzaG93T2JzZXJ2YXRvcmllczogc2hvd09ic2VydmF0b3JpZXMsCiAgICAgIHNlbGVjdGVkU2l0ZTogc2VsZWN0ZWRTaXRlLAogICAgICBkeW5hc3RpZXM6IGR5bmFzdGllcywKICAgICAgdGltZWxpbmVFdmVudHM6IHRpbWVsaW5lRXZlbnRzLAogICAgICBpc1BsYXlpbmc6IGlzUGxheWluZywKICAgICAgY3VycmVudFllYXI6IGN1cnJlbnRZZWFyLAogICAgICBzaXRlSW5mb1Zpc2libGU6IHNpdGVJbmZvVmlzaWJsZSwKICAgICAgcGxheVRpbWVsaW5lOiBwbGF5VGltZWxpbmUsCiAgICAgIHN0b3BUaW1lbGluZTogc3RvcFRpbWVsaW5lLAogICAgICBnZXRFdmVudFBvc2l0aW9uOiBnZXRFdmVudFBvc2l0aW9uLAogICAgICBzZWxlY3RFdmVudDogc2VsZWN0RXZlbnQsCiAgICAgIHNlbGVjdER5bmFzdHk6IHNlbGVjdER5bmFzdHksCiAgICAgIGhhbmRsZUltYWdlRXJyb3I6IGhhbmRsZUltYWdlRXJyb3IKICAgIH07CiAgfQp9Ow=="},{"version":3,"sources":["D:\\新建文件夹\\zhonghua\\myapp\\src\\components\\SpaceTimeDimension.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"space-time-container\">\r\n    <div class=\"nav-header\">\r\n      <span class=\"nav-text active\">时空维度·观天测地</span>\r\n      <router-link to=\"/monitor\" class=\"nav-text\">星官体系·天人合一</router-link>\r\n      <router-link to=\"/analysis\" class=\"nav-text\">学术传承·道器相生</router-link>\r\n    </div>\r\n    \r\n    <div class=\"content\">\r\n      <!-- 地图容器 -->\r\n      <div class=\"map-container\">\r\n        <div class=\"map-controls\">\r\n          <div class=\"dynasty-filter\">\r\n            <button \r\n              v-for=\"dynasty in dynasties\" \r\n              :key=\"dynasty.value\"\r\n              :class=\"['dynasty-btn', { active: currentDynasty === dynasty.value }]\"\r\n              @click=\"selectDynasty(dynasty.value)\"\r\n            >\r\n              {{ dynasty.label }}\r\n            </button>\r\n          </div>\r\n          <div class=\"layer-controls\">\r\n            <label class=\"layer-toggle\">\r\n              <input type=\"checkbox\" v-model=\"showHeatmap\">\r\n              热力图层\r\n            </label>\r\n            <label class=\"layer-toggle\">\r\n              <input type=\"checkbox\" v-model=\"showSites\">\r\n              遗址标记\r\n            </label>\r\n            <label class=\"layer-toggle\">\r\n              <input type=\"checkbox\" v-model=\"showObservatories\">\r\n              天文台\r\n            </label>\r\n          </div>\r\n        </div>\r\n        <div id=\"map\" class=\"map\"></div>\r\n        <div class=\"site-info\" v-if=\"selectedSite\" :class=\"{ visible: siteInfoVisible }\">\r\n          <h3>{{ selectedSite.name }}</h3>\r\n          <p>{{ selectedSite.description }}</p>\r\n          <div class=\"site-images\">\r\n            <div v-for=\"(img, index) in selectedSite.images\" \r\n                 :key=\"index\" \r\n                 class=\"image-container\">\r\n              <img :src=\"img.url\" \r\n                   :alt=\"img.caption\"\r\n                   @error=\"handleImageError\">\r\n              <div class=\"image-caption\">{{ img.caption }}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 时间轴 -->\r\n      <div class=\"timeline-container\">\r\n        <div class=\"timeline-controls\">\r\n          <button @click=\"playTimeline\" :disabled=\"isPlaying\">\r\n            {{ isPlaying ? '播放中...' : '播放时间轴' }}\r\n          </button>\r\n          <button @click=\"stopTimeline\" :disabled=\"!isPlaying\">停止</button>\r\n        </div>\r\n        <div class=\"timeline\">\r\n          <div class=\"timeline-events\">\r\n            <div v-for=\"event in timelineEvents\" \r\n                 :key=\"event.year\" \r\n                 :class=\"['timeline-event', { active: currentYear >= event.year }]\"\r\n                 :style=\"{ left: `${getEventPosition(event.year)}%` }\"\r\n                 @click=\"selectEvent(event)\">\r\n              <div class=\"event-dot\"></div>\r\n              <div class=\"event-label\">{{ event.name }}</div>\r\n              <div class=\"event-year\">{{ event.year }}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted, onUnmounted, nextTick } from 'vue';\r\nimport 'leaflet/dist/leaflet.css';\r\nimport L from 'leaflet';\r\nimport beijing1 from '../assets/北宋观星台.png';\r\nimport beijing2 from '../assets/天文观测仪器.png';\r\nimport hh1 from '../assets/古观象台全景.png';\r\nimport hh2 from '../assets/浑天仪.png';\r\nimport nanjing1 from '../assets/紫金山观景台.png';\r\nimport nanjing2 from '../assets/天文观测仪器.png';\r\nimport luoyang1 from '../assets/测景台遗址.png';\r\nimport luoyang2 from '../assets/日影测量仪器.png';\r\nimport xian1 from '../assets/天文台遗址.png';\r\nimport xian2 from '../assets/出土天文仪器.png';\r\n\r\nexport default {\r\n  name: 'SpaceTimeDimension',\r\n  setup() {\r\n    const map = ref(null);\r\n    const currentDynasty = ref('all');\r\n    const showHeatmap = ref(true);\r\n    const showSites = ref(true);\r\n    const showObservatories = ref(true);\r\n    const selectedSite = ref(null);\r\n    const isPlaying = ref(false);\r\n    const currentYear = ref(-2000);\r\n    const siteInfoVisible = ref(false);\r\n\r\n    const dynasties = [\r\n      { label: '全部', value: 'all' },\r\n      { label: '先秦', value: 'pre-qin' },\r\n      { label: '秦汉', value: 'qin-han' },\r\n      { label: '魏晋南北朝', value: 'wei-jin' },\r\n      { label: '隋唐', value: 'sui-tang' },\r\n      { label: '宋元', value: 'song-yuan' },\r\n      { label: '明清', value: 'ming-qing' }\r\n    ];\r\n\r\n    const timelineEvents = [\r\n      { year: -2000, name: '甲骨文天象记录', description: '商代甲骨文中记载天象' },\r\n      { year: -1000, name: '周代观星台建立', description: '周代设立观象台' },\r\n      { year: 100, name: '张衡制浑天仪', description: '东汉张衡制造浑天仪' },\r\n      { year: 724, name: '僧一行测量子午线', description: '唐朝僧一行主持测量子午线' },\r\n      { year: 1092, name: '苏颂水运仪象台', description: '北宋苏颂建造水运仪象台' },\r\n      { year: 1276, name: '郭守敬改革历法', description: '元代郭守敬主持授时历改革' }\r\n    ];\r\n\r\n    // 初始化地图\r\n    const initMap = () => {\r\n      map.value = L.map('map').setView([34.5, 108.5], 5);\r\n      \r\n      // 使用深色地图主题\r\n      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n        attribution: '© OpenStreetMap contributors',\r\n        className: 'map-tiles'\r\n      }).addTo(map.value);\r\n\r\n      // 添加地图样式\r\n      const style = document.createElement('style');\r\n      style.textContent = `\r\n        .map-tiles {\r\n          filter: grayscale(100%) invert(100%) brightness(0.8) sepia(30%) hue-rotate(180deg);\r\n        }\r\n      `;\r\n      document.head.appendChild(style);\r\n\r\n      // 添加古代天文遗址标记\r\n      addSiteMarkers();\r\n    };\r\n\r\n    // 添加遗址标记\r\n    const addSiteMarkers = () => {\r\n      const sites = [\r\n        {\r\n          name: '登封观星台',\r\n          location: [34.5, 113.0],\r\n          dynasty: 'song-yuan',\r\n          description: '北宋时期重要的天文观测站，郭守敬主持修建',\r\n          images: [\r\n            { url: beijing1, caption: '观星台全景' },\r\n            { url: beijing2, caption: '古代观测仪器' }\r\n          ]\r\n        },\r\n        {\r\n          name: '北京古观象台',\r\n          location: [39.9, 116.4],\r\n          dynasty: 'ming-qing',\r\n          description: '明清两代皇家天文台，保存有浑天仪等珍贵仪器',\r\n          images: [\r\n            { url: hh1, caption: '古观象台全景' },\r\n            { url: hh2, caption: '浑天仪' }\r\n          ]\r\n        },\r\n        {\r\n          name: '南京紫金山天文台',\r\n          location: [32.1, 118.8],\r\n          dynasty: 'ming-qing',\r\n          description: '明代天文台遗址，现为现代天文台',\r\n          images: [\r\n            { url: nanjing1, caption: '紫金山天文台' },\r\n            { url: nanjing2, caption: '古代天文仪器' }\r\n          ]\r\n        },\r\n        {\r\n          name: '洛阳周公测景台',\r\n          location: [34.6, 112.4],\r\n          dynasty: 'pre-qin',\r\n          description: '周代周公测量日影的重要遗址',\r\n          images: [\r\n            { url: luoyang1, caption: '测景台遗址' },\r\n            { url: luoyang2, caption: '日影测量仪器' }\r\n          ]\r\n        },\r\n        {\r\n          name: '西安天文台遗址',\r\n          location: [34.3, 108.9],\r\n          dynasty: 'qin-han',\r\n          description: '秦汉时期重要的天文观测中心',\r\n          images: [\r\n            { url: xian1, caption: '天文台遗址' },\r\n            { url: xian2, caption: '出土天文仪器' }\r\n          ]\r\n        }\r\n      ];\r\n\r\n      // 清除现有标记\r\n      if (map.value) {\r\n        map.value.eachLayer((layer) => {\r\n          if (layer instanceof L.Marker) {\r\n            map.value.removeLayer(layer);\r\n          }\r\n        });\r\n      }\r\n\r\n      // 添加新标记\r\n      sites.forEach(site => {\r\n        if (showSites.value && (currentDynasty.value === 'all' || site.dynasty === currentDynasty.value)) {\r\n          const customIcon = L.divIcon({\r\n            className: 'custom-marker',\r\n            html: `<div class=\"marker-content\">\r\n                    <div class=\"marker-dot\"></div>\r\n                    <div class=\"marker-label\">${site.name}</div>\r\n                  </div>`,\r\n            iconSize: [30, 30],\r\n            iconAnchor: [15, 15]\r\n          });\r\n\r\n          L.marker(site.location, { icon: customIcon })\r\n            .addTo(map.value)\r\n            .on('click', () => {\r\n              selectedSite.value = site;\r\n              showSiteInfo();\r\n            });\r\n        }\r\n      });\r\n    };\r\n\r\n    // 添加图片错误处理\r\n    const handleImageError = (e) => {\r\n      console.error('Image failed to load:', e.target.src);\r\n      e.target.src = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgZmlsbD0iIzMzMzMzMyIvPjx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMjQiIGZpbGw9IiNmZmZmZmYiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj7lm77niYfliqDovb3lpLHotKU8L3RleHQ+PC9zdmc+';\r\n    };\r\n\r\n    // 修改显示遗址信息的方法\r\n    const showSiteInfo = async () => {\r\n      siteInfoVisible.value = false;\r\n      await nextTick();\r\n      siteInfoVisible.value = true;\r\n    };\r\n\r\n    // 时间轴控制\r\n    const playTimeline = () => {\r\n      isPlaying.value = true;\r\n      const animate = () => {\r\n        if (!isPlaying.value) return;\r\n        if (currentYear.value < 1900) {\r\n          currentYear.value += 10;\r\n          // 更新地图显示\r\n          updateMapForYear(currentYear.value);\r\n          requestAnimationFrame(animate);\r\n        } else {\r\n          stopTimeline();\r\n        }\r\n      };\r\n      requestAnimationFrame(animate);\r\n    };\r\n\r\n    const stopTimeline = () => {\r\n      isPlaying.value = false;\r\n    };\r\n\r\n    const updateMapForYear = (year) => {\r\n      // 根据年份更新地图显示\r\n      const zoom = map.value.getZoom();\r\n      const center = map.value.getCenter();\r\n      \r\n      // 添加过渡动画\r\n      map.value.flyTo(center, zoom, {\r\n        duration: 0.5,\r\n        easeLinearity: 0.25\r\n      });\r\n    };\r\n\r\n    const getEventPosition = (year) => {\r\n      const totalYears = 3900; // from -2000 to 1900\r\n      return ((year + 2000) / totalYears) * 100;\r\n    };\r\n\r\n    const selectEvent = (event) => {\r\n      currentYear.value = event.year;\r\n      updateMapForYear(event.year);\r\n    };\r\n\r\n    const selectDynasty = (dynasty) => {\r\n      console.log(`Selected dynasty: ${dynasty}`); // 调试信息\r\n      currentDynasty.value = dynasty;\r\n      addSiteMarkers();\r\n    };\r\n\r\n    onMounted(() => {\r\n      initMap();\r\n    });\r\n\r\n    onUnmounted(() => {\r\n      if (map.value) {\r\n        map.value.remove();\r\n      }\r\n    });\r\n\r\n    return {\r\n      currentDynasty,\r\n      showHeatmap,\r\n      showSites,\r\n      showObservatories,\r\n      selectedSite,\r\n      dynasties,\r\n      timelineEvents,\r\n      isPlaying,\r\n      currentYear,\r\n      siteInfoVisible,\r\n      playTimeline,\r\n      stopTimeline,\r\n      getEventPosition,\r\n      selectEvent,\r\n      selectDynasty,\r\n      handleImageError,\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.space-time-container {\r\n  height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n  background: linear-gradient(to bottom, rgba(13, 15, 44, 0.95), rgba(13, 15, 44, 0.85));\r\n  position: relative;\r\n  padding: 20px;\r\n}\r\n\r\n.space-time-container::before {\r\n  content: '';\r\n  position: absolute;\r\n  top: 10px;\r\n  left: 10px;\r\n  right: 10px;\r\n  bottom: 10px;\r\n  border: 1px solid rgba(0,195,255,0.3);\r\n  animation: borderGlow 2s infinite;\r\n  pointer-events: none;\r\n}\r\n\r\n.nav-header {\r\n  height: 60px;\r\n  padding: 0 20px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 30px;\r\n  background: rgba(13, 15, 44, 0.6);\r\n  position: relative;\r\n  border: 1px solid rgba(0, 195, 255, 0.3);\r\n}\r\n\r\n.nav-header::before,\r\n.nav-header::after {\r\n  content: '';\r\n  position: absolute;\r\n  width: 20px;\r\n  height: 20px;\r\n}\r\n\r\n.nav-header::before {\r\n  top: -1px;\r\n  left: -1px;\r\n  border-top: 2px solid #00c3ff;\r\n  border-left: 2px solid #00c3ff;\r\n  box-shadow: -2px -2px 10px rgba(0, 195, 255, 0.5);\r\n}\r\n\r\n.nav-header::after {\r\n  bottom: -1px;\r\n  right: -1px;\r\n  border-bottom: 2px solid #00c3ff;\r\n  border-right: 2px solid #00c3ff;\r\n  box-shadow: 2px 2px 10px rgba(0, 195, 255, 0.5);\r\n}\r\n\r\n.nav-text {\r\n  color: rgba(255, 255, 255, 0.8);\r\n  text-decoration: none;\r\n  font-size: 16px;\r\n  transition: all 0.3s ease;\r\n  position: relative;\r\n  padding: 5px 15px;\r\n}\r\n\r\n.nav-text:hover {\r\n  color: #00c3ff;\r\n  text-shadow: 0 0 10px rgba(0, 195, 255, 0.5);\r\n}\r\n\r\n.nav-text.active {\r\n  color: #00c3ff;\r\n  background: rgba(0, 195, 255, 0.1);\r\n  border: 1px solid rgba(0, 195, 255, 0.3);\r\n}\r\n\r\n.content {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 20px;\r\n  gap: 20px;\r\n}\r\n\r\n.map-container {\r\n  flex: 1;\r\n  position: relative;\r\n  border-radius: 4px;\r\n  overflow: hidden;\r\n  border: 1px solid rgba(0, 195, 255, 0.3);\r\n  background: rgba(13, 15, 44, 0.3);\r\n  box-shadow: 0 0 20px rgba(0, 195, 255, 0.1);\r\n}\r\n\r\n#map {\r\n  height: 100%;\r\n  width: 100%;\r\n  background: rgba(13, 15, 44, 0.3);\r\n}\r\n\r\n.map-controls {\r\n  position: absolute;\r\n  top: 20px;\r\n  left: 20px;\r\n  z-index: 1000;\r\n  background: rgba(13, 15, 44, 0.9);\r\n  padding: 15px;\r\n  border-radius: 4px;\r\n  border: 1px solid rgba(0, 195, 255, 0.3);\r\n  box-shadow: 0 0 15px rgba(0, 195, 255, 0.2);\r\n}\r\n\r\n.dynasty-filter {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 10px;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.dynasty-btn {\r\n  padding: 8px 15px;\r\n  border: 1px solid rgba(0, 195, 255, 0.3);\r\n  background: rgba(13, 15, 44, 0.6);\r\n  color: #fff;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  transition: all 0.3s;\r\n}\r\n\r\n.dynasty-btn:hover {\r\n  background: rgba(0, 195, 255, 0.2);\r\n  border-color: rgba(0, 195, 255, 0.5);\r\n}\r\n\r\n.dynasty-btn.active {\r\n  background: rgba(0, 195, 255, 0.3);\r\n  border-color: rgba(0, 195, 255, 0.8);\r\n  box-shadow: 0 0 10px rgba(0, 195, 255, 0.3);\r\n}\r\n\r\n.layer-controls {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10px;\r\n}\r\n\r\n.layer-toggle {\r\n  color: #fff;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  cursor: pointer;\r\n}\r\n\r\n.site-info {\r\n  position: absolute;\r\n  bottom: 20px;\r\n  right: 20px;\r\n  background: rgba(13, 15, 44, 0.95);\r\n  padding: 20px;\r\n  border-radius: 8px;\r\n  border: 1px solid rgba(0, 195, 255, 0.3);\r\n  color: #fff;\r\n  max-width: 400px;\r\n  box-shadow: 0 0 20px rgba(0, 195, 255, 0.2);\r\n  backdrop-filter: blur(10px);\r\n  transform: translateY(20px);\r\n  opacity: 0;\r\n  transition: all 0.3s ease;\r\n  z-index: 1000;\r\n}\r\n\r\n.site-info.visible {\r\n  transform: translateY(0);\r\n  opacity: 1;\r\n}\r\n\r\n.site-info h3 {\r\n  margin: 0 0 10px 0;\r\n  color: #00c3ff;\r\n  font-size: 18px;\r\n  text-shadow: 0 0 10px rgba(0, 195, 255, 0.3);\r\n}\r\n\r\n.site-info p {\r\n  margin: 0 0 15px 0;\r\n  line-height: 1.6;\r\n  color: rgba(255, 255, 255, 0.8);\r\n}\r\n\r\n.site-images {\r\n  display: grid;\r\n  grid-template-columns: repeat(2, 1fr);\r\n  gap: 10px;\r\n  margin-top: 15px;\r\n}\r\n\r\n.image-container {\r\n  position: relative;\r\n  width: 100%;\r\n  height: 150px;\r\n  overflow: hidden;\r\n  border-radius: 4px;\r\n  border: 1px solid rgba(0, 195, 255, 0.3);\r\n}\r\n\r\n.site-images img {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n  transition: transform 0.3s;\r\n}\r\n\r\n.image-caption {\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  background: rgba(13, 15, 44, 0.8);\r\n  color: #fff;\r\n  padding: 4px 8px;\r\n  font-size: 12px;\r\n  text-align: center;\r\n}\r\n\r\n.timeline-container {\r\n  height: 150px;\r\n  background: rgba(13, 15, 44, 0.7);\r\n  border-radius: 4px;\r\n  padding: 20px;\r\n  border: 1px solid rgba(0, 195, 255, 0.3);\r\n  position: relative;\r\n}\r\n\r\n.timeline-container::before,\r\n.timeline-container::after {\r\n  content: '';\r\n  position: absolute;\r\n  width: 15px;\r\n  height: 15px;\r\n}\r\n\r\n.timeline-container::before {\r\n  top: -1px;\r\n  left: -1px;\r\n  border-top: 2px solid #00c3ff;\r\n  border-left: 2px solid #00c3ff;\r\n}\r\n\r\n.timeline-container::after {\r\n  bottom: -1px;\r\n  right: -1px;\r\n  border-bottom: 2px solid #00c3ff;\r\n  border-right: 2px solid #00c3ff;\r\n}\r\n\r\n.timeline-controls {\r\n  display: flex;\r\n  gap: 10px;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.timeline-controls button {\r\n  padding: 8px 15px;\r\n  background: rgba(0, 195, 255, 0.1);\r\n  border: 1px solid rgba(0, 195, 255, 0.3);\r\n  color: #fff;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  transition: all 0.3s;\r\n}\r\n\r\n.timeline-controls button:hover:not(:disabled) {\r\n  background: rgba(0, 195, 255, 0.2);\r\n  border-color: rgba(0, 195, 255, 0.5);\r\n}\r\n\r\n.timeline-controls button:disabled {\r\n  opacity: 0.5;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.timeline {\r\n  position: relative;\r\n  height: 60px;\r\n  background: rgba(74, 144, 226, 0.1);\r\n  border-radius: 30px;\r\n}\r\n\r\n.timeline-events {\r\n  position: relative;\r\n  height: 100%;\r\n}\r\n\r\n.timeline-event {\r\n  position: absolute;\r\n  transform: translateX(-50%);\r\n  cursor: pointer;\r\n}\r\n\r\n.event-dot {\r\n  width: 12px;\r\n  height: 12px;\r\n  background: #4a90e2;\r\n  border-radius: 50%;\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.event-label {\r\n  color: #fff;\r\n  font-size: 12px;\r\n  white-space: nowrap;\r\n  transform: rotate(-45deg);\r\n  transform-origin: left top;\r\n}\r\n\r\n.event-year {\r\n  color: rgba(255, 255, 255, 0.6);\r\n  font-size: 10px;\r\n}\r\n\r\n.timeline-event.active .event-dot {\r\n  background: #f5c842;\r\n  box-shadow: 0 0 10px rgba(245, 200, 66, 0.5);\r\n}\r\n\r\n@keyframes borderGlow {\r\n  0%, 100% {\r\n    box-shadow: 0 0 5px rgba(0, 195, 255, 0.3);\r\n  }\r\n  50% {\r\n    box-shadow: 0 0 15px rgba(0, 195, 255, 0.5);\r\n  }\r\n}\r\n\r\n.custom-marker {\r\n  background: transparent;\r\n  border: none;\r\n}\r\n\r\n.marker-content {\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n\r\n.marker-dot {\r\n  width: 12px;\r\n  height: 12px;\r\n  background: #00c3ff;\r\n  border-radius: 50%;\r\n  box-shadow: 0 0 10px rgba(0, 195, 255, 0.5);\r\n  animation: pulse 2s infinite;\r\n}\r\n\r\n.marker-label {\r\n  position: absolute;\r\n  top: 20px;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  background: rgba(13, 15, 44, 0.9);\r\n  color: #fff;\r\n  padding: 4px 8px;\r\n  border-radius: 4px;\r\n  font-size: 12px;\r\n  white-space: nowrap;\r\n  border: 1px solid rgba(0, 195, 255, 0.3);\r\n  box-shadow: 0 0 10px rgba(0, 195, 255, 0.2);\r\n  opacity: 0;\r\n  transition: opacity 0.3s;\r\n}\r\n\r\n.marker-content:hover .marker-label {\r\n  opacity: 1;\r\n}\r\n\r\n@keyframes pulse {\r\n  0% {\r\n    transform: scale(1);\r\n    box-shadow: 0 0 0 0 rgba(0, 195, 255, 0.4);\r\n  }\r\n  70% {\r\n    transform: scale(1.2);\r\n    box-shadow: 0 0 0 10px rgba(0, 195, 255, 0);\r\n  }\r\n  100% {\r\n    transform: scale(1);\r\n    box-shadow: 0 0 0 0 rgba(0, 195, 255, 0);\r\n  }\r\n}\r\n</style> "],"sourceRoot":""}]}